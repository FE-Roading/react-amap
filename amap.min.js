/*! For license information please see amap.min.js.LICENSE.txt */
!function(e,o){"object"===typeof exports&&"object"===typeof module?module.exports=o(require("react"),require("react-dom")):"function"===typeof define&&define.amd?define(["react","react-dom"],o):"object"===typeof exports?exports["@uiw/react-amap"]=o(require("react"),require("react-dom")):e["@uiw/react-amap"]=o(e.React,e.ReactDOM)}(self,((e,o)=>(()=>{"use strict";var t={382:e=>{var o=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var o={},t=0;t<10;t++)o["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(o).map((function(e){return o[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(e,a){for(var i,u,l=r(e),s=1;s<arguments.length;s++){for(var c in i=Object(arguments[s]))t.call(i,c)&&(l[c]=i[c]);if(o){u=o(i);for(var p=0;p<u.length;p++)n.call(i,u[p])&&(l[u[p]]=i[u[p]])}}return l}},858:(e,o,t)=>{t(382);var n=t(787),r=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;r=a("react.element"),a("react.fragment")}var i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function s(e,o,t){var n,a={},s=null,c=null;for(n in void 0!==t&&(s=""+t),void 0!==o.key&&(s=""+o.key),void 0!==o.ref&&(c=o.ref),o)u.call(o,n)&&!l.hasOwnProperty(n)&&(a[n]=o[n]);if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===a[n]&&(a[n]=o[n]);return{$$typeof:r,type:e,key:s,ref:c,props:a,_owner:i.current}}o.jsx=s,o.jsxs=s},664:(e,o,t)=>{e.exports=t(858)},787:o=>{o.exports=e},156:e=>{e.exports=o}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{function e(e,o,t,n,r,a,i){try{var u=e[a](i),l=u.value}catch(s){return void t(s)}u.done?o(l):Promise.resolve(l).then(n,r)}function o(o){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=o.apply(t,n);function u(o){e(i,r,a,u,l,"next",o)}function l(o){e(i,r,a,u,l,"throw",o)}u(void 0)}))}}r.r(a),r.d(a,{APILoader:()=>p,AutoComplete:()=>b,BezierCurve:()=>H,Circle:()=>_,CircleMarker:()=>N,Context:()=>x,ContextMenu:()=>Z,ControlBarControl:()=>G,Ellipse:()=>Y,Geolocation:()=>X,HawkEyeControl:()=>te,InfoWindow:()=>ae,Map:()=>I,MapTypeControl:()=>le,Marker:()=>pe,MassMarks:()=>fe,Polygon:()=>he,PolygonEditor:()=>Ce,Polyline:()=>ge,Provider:()=>D,Rectangle:()=>ke,ScaleControl:()=>Se,Text:()=>Te,ToolBarControl:()=>De,Weather:()=>Pe,delay:()=>c,getReactDOMClient:()=>w,initialState:()=>A,reducer:()=>S,requireCss:()=>u,requireScript:()=>l,useAutoComplete:()=>E,useBezierCurve:()=>j,useCircle:()=>B,useCircleMarker:()=>W,useContextMenu:()=>F,useControlBarControl:()=>Q,useEllipse:()=>$,useEventProperties:()=>C,useGeolocation:()=>K,useHawkEyeControl:()=>oe,useInfoWindow:()=>re,useMap:()=>T,useMapContext:()=>O,useMapTypeControl:()=>ue,useMarker:()=>ce,useMassMarks:()=>ve,usePolygon:()=>Me,usePolyline:()=>we,usePrevious:()=>h,useRectangle:()=>be,useRenderDom:()=>g,useScaleControl:()=>Ae,useSetStatus:()=>m,useSettingProperties:()=>y,useText:()=>Oe,useToolBarControl:()=>Re,useVisiable:()=>M,useWeather:()=>Ie});var t=r(787),n=r.n(t),i={};function u(e,o){void 0===o&&(o="_react_amap_css");var t=document&&(document.head||document.getElementsByTagName("head")[0]),n=document.getElementById(o);return new Promise(((r,a)=>{if(!document||e in i||n)r();else{var u=document.createElement("link");u.type="text/css",u.rel="stylesheet",u.id=o,u.href=e,u.onerror=o=>{t.removeChild(u),a(new URIError("The css "+e+" is no accessible."))},u.onload=()=>{i[e]=!0,r()},t.appendChild(u)}}))}function l(e,o){void 0===o&&(o="_react_amap_plugin");var t=document&&(document.head||document.getElementsByTagName("head")[0]),n=document.getElementById(o);return new Promise(((r,a)=>{if(!document||e in i||n)r();else{var u=document.createElement("script");u.type="text/javascript",u.id=o,u.async=!0,u.defer=!0,u.src=e,u.onerror=o=>{t.removeChild(u),a(new URIError("The Script "+e+" is no accessible."))},u.onload=()=>{i[e]=!0,r()},t.appendChild(u)}}))}var s=r(664);function c(e){return new Promise(((o,t)=>{window.setTimeout(o,e)}))}class p extends t.Component{constructor(e){if(super(e),this.isMountedOk=!1,this.state={loaded:!!window.AMap},this.handleError=e=>{this.isMountedOk&&this.setState({error:e})},this.finish=()=>{this.isMountedOk&&this.setState({loaded:!0})},null===e.akay)throw new TypeError("AMap: akay is required")}componentDidMount(){this.isMountedOk=!0;var{callbackName:e}=this.props;if(null==window.AMap){if(window[e])return void p.waitQueue.push([this.finish,this.handleError]);this.loadMap()}}componentWillUnmount(){this.isMountedOk=!1}render(){return this.state.loaded?this.props.children:this.props.fallback?this.props.fallback(this.state.error):this.state.error?(0,s.jsx)("div",{style:{color:"red"},children:this.state.error.message}):null}getScriptSrc(){var e=this.props,o=e.protocol||window.location.protocol;-1===o.indexOf(":")&&(o+=":");var t="";return e.plugin&&(t="&plugin="+e.plugin),o+"//"+e.hostAndPath+"?v="+e.version+"&key="+e.akay+"&callback="+e.callbackName+t}loadMap(){var e=this;return o((function*(){var{callbackName:o}=e.props,t=e.getScriptSrc();window[o]=()=>{var o=p.waitQueue;p.waitQueue=[],o.forEach((e=>e[0]())),e.finish()};for(var n=0;n<3;n++)try{yield l(t);break}catch(a){if(2===n){var r=function(){var o=new Error("Failed to load AMap: "+a.message),t=p.waitQueue;return p.waitQueue=[],t.forEach((e=>e[1](o))),e.handleError(o),{v:void 0}}();if("object"===typeof r)return r.v}yield c(1e3*n)}}))()}}function d(){return d=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},d.apply(this,arguments)}p.defaultProps={protocol:/^file:/.test(window.location.protocol)?"https":window.location.protocol,akay:"",hostAndPath:"webapi.amap.com/maps",version:"2.0",callbackName:"load_amap_sdk",plugin:""},p.waitQueue=[];var v=r(156),f=r.n(v);function m(e,o,n){void 0===o&&(o={}),void 0===n&&(n=[]),n.forEach((n=>{var r=n,[a,i]=(0,t.useState)(o[r]);(0,t.useEffect)((()=>{if(e&&void 0!==o[r]&&o[r]!==a){var t=e.getStatus();e.setStatus(d({},t,{[r]:o[r]})),i(o[r])}}),[e,o[r]])}))}function M(e,o){var[n,r]=(0,t.useState)(o);(0,t.useEffect)((()=>{e&&void 0!==o&&(o?e.show&&e.show():e.hide&&e.hide(),o!==n&&r(o))}),[e,o])}function h(e){var o=(0,t.useRef)();return(0,t.useEffect)((()=>{o.current=e})),o.current}function C(e,o,n,r){void 0===o&&(o={}),void 0===n&&(n=[]),n.forEach((n=>{var r=n,a=o[r];(0,t.useEffect)((()=>{if(e){var o=n.toLocaleLowerCase().replace(/^on/,"");return a&&o&&e.on(o,a),()=>{o&&a&&e.off(o,a)}}}),[e,o[r]])}))}function y(e,o,n){void 0===e&&(e={}),void 0===o&&(o={}),void 0===n&&(n=[]),n.forEach((n=>{var r="set"+n,a=""+n.charAt(0).toLowerCase()+n.slice(1),[i,u]=(0,t.useState)(o[a]);(0,t.useEffect)((()=>{e&&void 0!==o[a]&&o[a]!==i&&e[r]&&"function"===typeof e[r]&&(e[r](o[a]),u(o[a]))}),[e,o[a]])}))}var w=function(){var e=o((function*(){var e;try{e=yield import("react-dom/client")}catch(o){}return e}));return function(){return e.apply(this,arguments)}}();function g(e){var n=(0,t.useRef)(document.createElement("div")),r=(0,t.useCallback)(o((function*(){return window.ReactDOM?window.ReactDOM:yield w()})),[]),a=(0,t.useRef)();return(0,t.useLayoutEffect)((()=>{o((function*(){var e=(yield r())||f(),o=Reflect.has(e,"createRoot");a.current=o?e.createRoot(n.current):null}))()}),[]),(0,t.useLayoutEffect)((()=>{a.current?a.current.render((0,s.jsx)(t.Fragment,{children:e.children})):f()&&f().render((0,s.jsx)(t.Fragment,{children:e.children}),n.current)}),[e.children,n.current,a.current]),n.current}var E=function(e){void 0===e&&(e={});var[o,n]=(0,t.useState)();return(0,t.useEffect)((()=>{var t;if(AMap&&!o)return AMap.plugin(["AMap.AutoComplete"],(()=>{t=new AMap.AutoComplete(e),n(t)})),()=>{t&&n(void 0)}}),[]),y(o,e,["Type","City","CityLimit"]),C(o,e,["onChoose","onSelect"]),{autoComplete:o,setAutoComplete:n}},b=n().forwardRef(((e,o)=>{var{autoComplete:n}=E(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{autoComplete:n}))),null}));function k(e,o){if(null==e)return{};var t,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],o.indexOf(t)>=0||(r[t]=e[t]);return r}var A={map:void 0,AMap:void 0,container:void 0},S=(e,o)=>d({},e,o),x=n().createContext({state:A,dispatch:()=>null});function O(){var{state:e,dispatch:o}=(0,t.useContext)(x);return d({},e,{state:e,dispatch:o})}var T=function(e){void 0===e&&(e={});var o=d({},e),[n,r]=(0,t.useState)(),[a,i]=(0,t.useState)(e.zoom||15),[u,l]=(0,t.useState)(e.container),{dispatch:s}=(0,t.useContext)(x);return(0,t.useEffect)((()=>{if(u&&!n&&AMap){u.className=u.className+" react-amap-wapper";var e=new AMap.Map(u,d({zoom:a},o));r(e)}return()=>{n&&(n.clearInfoWindow(),n.clearLimitBounds(),n.clearMap(),n.destroy(),r(void 0))}}),[u,n]),(0,t.useEffect)((()=>(n&&u&&s({map:n,container:u,AMap:AMap}),()=>{s({map:void 0,container:void 0,AMap:void 0})})),[n,u]),(0,t.useMemo)((()=>{n&&"number"===typeof e.zoom&&a!==e.zoom&&e.zoom>=2&&e.zoom<=20&&(i(e.zoom),n.setZoom(e.zoom))}),[a,e.zoom]),(0,t.useMemo)((()=>{e.center&&n&&n.setCenter(e.center)}),[n,e.center]),m(n,e,["dragEnable","zoomEnable","jogEnable","pitchEnable","rotateEnable","animateEnable","keyboardEnable"]),y(n,e,["Zoom","LabelzIndex","Layers","City","Bounds","LimitBounds","Lang","Rotation","DefaultCursor","MapStyle","Features","DefaultLayer","Pitch"]),C(n,e,["onMouseMove","onZoomChange","onMapMove","onMouseWheel","onZoomStart","onMouseOver","onMouseOut","onDblClick","onClick","onZoomEnd","onMoveEnd","onMouseUp","onMouseDown","onRightClick","onMoveStart","onDragStart","onDragging","onDragEnd","onHotspotOut","onHotspotOver","onTouchStart","onComplete","onHotspotClick","onTouchMove","onTouchEnd","onResize"]),{map:n,setMap:r,zoom:a,setZoom:i,container:u,setContainer:l}},R=["className","children"];function D(e){var[o,n]=(0,t.useReducer)(S,A);return(0,s.jsx)(x.Provider,{value:d({},o,{state:o,dispatch:n}),children:e.children})}var I=(0,t.forwardRef)(((e,o)=>{var{className:n,children:r}=e,a=k(e,R),[i,u]=(0,t.useReducer)(S,A),l=(0,t.useRef)(null),{setContainer:c,container:p,map:v}=T(d({container:a.container||l.current},a));(0,t.useEffect)((()=>c(l.current)),[l.current]),(0,t.useImperativeHandle)(o,(()=>d({},a,{map:v,AMap:AMap,container:a.container||l.current})),[v]);var f=t.Children.toArray(r);return(0,t.useEffect)((()=>{v&&u({map:v,container:l.current,AMap:AMap})}),[v]),(0,s.jsxs)(x.Provider,{value:d({},i,{state:i,dispatch:u}),children:[!a.container&&(0,s.jsx)("div",{ref:l,className:"react-amap-wapper "+n,style:d({fontSize:1,width:"100%",height:"100%"},a.style)}),AMap&&v&&"function"===typeof r&&r({AMap:AMap,map:v,container:p}),AMap&&v&&f.map(((e,o)=>(0,t.isValidElement)(e)?"string"===typeof e?(0,t.cloneElement)((0,s.jsx)(t.Fragment,{children:e}),{key:o}):e.type&&"string"===typeof e.type?(0,t.cloneElement)(e,{key:o}):(0,t.cloneElement)(e,d({},e.props,{AMap:AMap,map:v,container:p,key:o})):null))]})})),P=["visiable"],j=function(e){void 0===e&&(e={});var{visiable:o}=e,n=k(e,P),{map:r}=O(),[a,i]=(0,t.useState)();return(0,t.useEffect)((()=>{if(AMap&&r&&!a){var e=new AMap.BezierCurve(d({},n));return r.add(e),i(e),()=>{e&&(r&&r.removeLayer(e),i(void 0))}}}),[r]),M(a,o),y(a,e,["Options","Path","ExtData","ExtData"]),C(a,e,["onHide","onShow","onDblClick","onMouseOver","onMouseUp","onMouseDown","onclick","onTouchEnd","onTouchMove","onTouchStart","onRightClick","onMouseOut"]),{bezierCurve:a,setBezierCurve:i}},H=n().forwardRef(((e,o)=>{var{bezierCurve:n}=j(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{bezierCurve:n}))),null})),z=["visiable"],B=function(e){void 0===e&&(e={});var{visiable:o}=e,n=k(e,z),{map:r}=O(),[a,i]=(0,t.useState)();return(0,t.useEffect)((()=>{if(AMap&&r&&!a){var e=new AMap.Circle(d({},n));r.add(e),i(e)}return()=>{a&&(r&&r.remove(a),i(void 0))}}),[r]),M(a,o),y(a,e,["Center","Raius","Options","ExtData"]),C(a,e,["onHide","onShow","onRightClick","onClick","onTouchEnd","onDblClick","onTouchMove","onTouchStart","onMouseOut","onMouseOver","onMouseUp","onMouseDown"]),{circle:a,setCircle:i}},_=n().forwardRef(((e,o)=>{var{circle:n}=B(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{circle:n}))),null})),L=["visiable"],W=function(e){void 0===e&&(e={});var{visiable:o}=e,n=k(e,L),{map:r}=O(),[a,i]=(0,t.useState)();return(0,t.useEffect)((()=>{if(AMap&&r&&!a){var e=new AMap.CircleMarker(d({},n));return r.add(e),i(e),()=>{e&&(r&&r.removeLayer(e),i(void 0))}}}),[r]),M(a,o),y(a,e,["Center","Raius","zIndex","Bubble","Cursor","StrokeColor","StrokeOpacity","StrokeWeight","FillColor","FillOpacity","Draggable","ExtData"]),C(a,e,["onHide","onShow","onMouseover","onTouchend","onClick","onTouchmove","onRightclick","onMouseup","onMouseout","onTouchstart","onMousedown","onDblclick"]),{circleMarker:a,setCircleMarker:i}},N=n().forwardRef(((e,o)=>{var{circleMarker:n}=W(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{circleMarker:n}))),null})),U=["position"],F=function(e){void 0===e&&(e={});var{position:o}=e,n=k(e,U),{map:r}=O(),[a,i]=(0,t.useState)();return(0,t.useEffect)((()=>{if(AMap&&r&&!a){var e=new AMap.ContextMenu(d({},n));i(e);var t=t=>e.open(r,o||t.lnglat);return r.on("rightclick",t),()=>{e&&(r.off("rightclick",t),r&&r.removeLayer(e),i(void 0))}}}),[r]),C(a,e,["onOpen","onClose"]),{contextMenu:a,setContextMenu:i}},q=function(){};var Z=n().forwardRef(((e,o)=>{var{contextMenu:r}=F(e);(0,t.useImperativeHandle)(o,(()=>d({},e,{contextMenu:r})));var a=n().Children.toArray(e.children);return(0,s.jsx)(t.Fragment,{children:AMap&&r&&a.map(((o,t)=>n().isValidElement(o)?n().cloneElement(o,d({},o.props,{AMap:AMap,map:e.map,contextMenu:r,key:t})):null))})}));function Q(e){void 0===e&&(e={});var{position:o,visiable:n,offset:r}=e,[a,i]=(0,t.useState)(),{map:u}=O();return(0,t.useEffect)((()=>{var e;if(u&&!a)return u.plugin(["AMap.ControlBar","AMap.HawkEye"],(()=>{e=new AMap.ControlBar({offset:r,position:o}),u.addControl(e),i(e)})),()=>{e&&u.removeControl(e)}}),[u]),M(a,n),{controlBarControl:a,setControlBarControl:i}}Z.Item=function(e){void 0===e&&(e={});var{text:o="",onClick:n=q}=e;return(0,t.useEffect)((()=>(e.contextMenu&&e.contextMenu.addItem(o,n,1),()=>{e.contextMenu&&e.contextMenu.removeItem(o,n)})),[e.contextMenu,e.text,e.onClick]),null};var G=n().forwardRef(((e,o)=>{var{controlBarControl:n}=Q(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{controlBarControl:n})),[n]),null})),V=["visiable"],$=function(e){void 0===e&&(e={});var{visiable:o}=e,n=k(e,V),{map:r}=O(),[a,i]=(0,t.useState)();return(0,t.useEffect)((()=>{if(AMap&&r&&!a){var e=new AMap.Ellipse(d({},n));return r.add(e),i(e),()=>{e&&(r&&r.removeLayer(e),i(void 0))}}}),[r]),M(a,o),y(a,e,["Center","Radius","Options","ExtData"]),C(a,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{ellipse:a,setEllipse:i}},Y=n().forwardRef(((e,o)=>{var{ellipse:n}=$(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{ellipse:n}))),null})),J=["type","onComplete","onError"],K=function(e){void 0===e&&(e={});var{type:o="position",onComplete:n,onError:r}=e,a=k(e,J),[i,u]=(0,t.useState)(),{map:l}=O();function s(e,o){"complete"===e&&n?n(o):r&&r(o)}return(0,t.useEffect)((()=>{var e;if(AMap&&!i)return AMap.plugin(["AMap.Geolocation"],(()=>{e=new AMap.Geolocation(d({},a)),u(e)})),()=>{e&&u(void 0)}}),[AMap]),(0,t.useMemo)((()=>{if(/^(position|cityInfo)$/.test(o)){var e="position"===o?"getCurrentPosition":"getCityInfo";i&&l?(i[e](s),l.addControl(i)):i&&i[e](s)}}),[i]),{geolocation:i,setGeolocation:u}},X=n().forwardRef(((e,o)=>{var{geolocation:n}=K(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{geolocation:n}))),null})),ee=["offset","visiable"];function oe(e){void 0===e&&(e={});var[o,n]=(0,t.useState)(),{offset:r,visiable:a}=e,i=k(e,ee),{map:u}=O();return(0,t.useEffect)((()=>{var e;if(u&&!o)return u.plugin(["AMap.HawkEye"],(()=>{e=new AMap.HawkEye(d({offset:r},i)),u.addControl(e),n(e)})),()=>{e&&u&&(u.removeLayer(e),n(void 0))}}),[u]),M(o,a),{hawkEyeControl:o,setHawkEyeControl:n}}var te=n().forwardRef(((e,o)=>{var{hawkEyeControl:n}=oe(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{hawkEyeControl:n})),[n]),null})),ne=["visiable","position"],re=function(e){void 0===e&&(e={});var{visiable:o,position:n}=e,r=k(e,ne),{map:a}=O(),[i,u]=(0,t.useState)(o),[l,s]=(0,t.useState)(),c=g({children:e.children});return(0,t.useEffect)((()=>{if(AMap&&a&&!l){var o=a.getCenter();e.children&&(r.content=c);var t=new AMap.InfoWindow(d({},r,{position:n||o}));return s(t),i&&t.open(a,n||o),()=>{t&&(a&&a.remove(t),s(void 0))}}}),[a]),(0,t.useEffect)((()=>{l&&l.setContent(e.children?c:r.content||"")}),[e.children,c,r.content,l]),(0,t.useMemo)((()=>{if(i!==o&&l&&a)if(u(o),o){var e=a.getCenter();l.open(a,n||e)}else l.close()}),[o,l]),(0,t.useEffect)((()=>{if(a&&l&&o){var e=a.getCenter();l.open(a,n||e)}}),[n]),y(l,e,["Content","Anchor","Size"]),C(l,e,["onOpen","onClose","onChange"]),{isOpen:i,setIsOpen:u,infoWindow:l,setInfoWindow:s}},ae=n().forwardRef(((e,o)=>{var{infoWindow:n}=re(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{infoWindow:n}))),null})),ie=["visiable","defaultType"];function ue(e){void 0===e&&(e={});var[o,n]=(0,t.useState)(),{visiable:r,defaultType:a=0}=e,i=k(e,ie),{map:u}=O();return(0,t.useEffect)((()=>{var e;if(u&&!o)return u.plugin(["AMap.MapType"],(()=>{e=new AMap.MapType(d({defaultType:a},i)),u.addControl(e),n(e)})),()=>{e&&u.removeControl(e)}}),[u]),M(o,r),{mapTypeControl:o,setMapTypeControl:n}}var le=n().forwardRef(((e,o)=>{var{mapTypeControl:n}=ue(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{mapTypeControl:n})),[n]),null})),se=["visiable","children"],ce=function(e){void 0===e&&(e={});var{visiable:o}=e,n=k(e,se),{map:r}=O(),[a,i]=(0,t.useState)(),u=g({children:e.children});return(0,t.useEffect)((()=>{if(!a&&r){e.children&&(n.content=u);var o=new AMap.Marker(d({},n));r.add(o),i(o)}return()=>{a&&(a.remove(),i(void 0))}}),[r,a]),(0,t.useEffect)((()=>{a&&a.setContent(e.children?u:e.content||"")}),[e.children,u,e.content,a]),M(a,o),y(a,e,["Path","Anchor","Offset","Animation","Clickable","Position","Angle","Label","zIndex","Icon","Draggable","Cursor","Content","Map","Title","Top","Shadow","Shape","ExtData"]),C(a,e,["onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragging","onDragEnd","onMoving","onMoveEnd","onMoveAlong","onTouchStart","onTouchMove","onTouchEnd"]),{marker:a,setMarker:i}},pe=(0,t.forwardRef)(((e,o)=>{var{marker:n}=ce(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{marker:n})),[n]),null})),de=["visiable"],ve=function(e){void 0===e&&(e={});var{visiable:o}=e,n=k(e,de),{map:r}=O(),{opacity:a=.8,zIndex:i=1111,style:u,data:l}=n||{},[s,c]=(0,t.useState)();return(0,t.useEffect)((()=>{if(AMap&&r&&!s){var e=u;e||(e=[{url:"https://webapi.amap.com/images/mass/mass0.png",anchor:new AMap.Pixel(6,6),size:new AMap.Size(11,11),zIndex:3},{url:"https://webapi.amap.com/images/mass/mass1.png",anchor:new AMap.Pixel(4,4),size:new AMap.Size(7,7),zIndex:2},{url:"https://webapi.amap.com/images/mass/mass2.png",anchor:new AMap.Pixel(3,3),size:new AMap.Size(5,5),zIndex:1}]);var o=new AMap.MassMarks(l||[],{opacity:a,zIndex:i,style:e});return c(o),o.setMap(r),()=>{o&&(o.clear(),c(void 0))}}}),[r]),M(s,o),y(s,e,["Map","Data","Style","Opacity","zIndex","Zooms"]),C(s,e,["onClick","onDblClick","onMouseMove","onMouseOut","onMouseUp","onMouseDown","onMouseOver","onTouchStart","onTouchEnd"]),{massMarks:s,setMassMarks:c}},fe=n().forwardRef(((e,o)=>{var{massMarks:n}=ve(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{massMarks:n})),[n,e]),null})),me=["visiable"],Me=function(e){void 0===e&&(e={});var{visiable:o}=e,n=k(e,me),{map:r}=O(),[a,i]=(0,t.useState)();return(0,t.useEffect)((()=>{if(AMap&&r&&!a){var e=new AMap.Polygon(d({},n));r.add(e),i(e)}}),[r]),M(a,o),y(a,e,["ExtData","ExtData"]),C(a,e,["onClick","onDblClick","onRightClick","onHide","onShow","onMouseDown","onMouseUp","onMouseOver","onMouseOut","onChange","onTouchStart","onTouchMove","onTouchEnd"]),{polygon:a,setPolygon:i}},he=(0,t.forwardRef)(((e,o)=>{var{children:n}=e,{polygon:r}=Me(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{polygon:r}))),n&&(0,t.isValidElement)(n)?(0,t.cloneElement)(n,d({},e,{polygon:r})):null})),Ce=(0,t.forwardRef)(((e,o)=>{var{active:n,polygon:r}=e,{map:a}=O(),[i,u]=(0,t.useState)(!0),[l,s]=(0,t.useState)();return(0,t.useEffect)((()=>{if(r&&a&&!l&&AMap&&AMap.PolygonEditor){var e=new AMap.PolygonEditor(a,r);r.on("hide",(()=>u(!1))),r.on("show",(()=>u(!0))),s(e)}}),[r]),(0,t.useEffect)((()=>{l&&(i&&!n?l.close():i&&n?l.open():!i&&n&&l.close())}),[n,i]),C(l,e,["onEnd","onAddnode","onAdjust","onMove","onAdd"]),null})),ye=["visiable"];function we(e){void 0===e&&(e={});var[o,n]=(0,t.useState)(),{visiable:r}=e,a=k(e,ye),{map:i}=O();return(0,t.useEffect)((()=>{if(i&&!o){var e=new AMap.Polyline(d({},a));return i.add(e),n(e),()=>{e&&(i&&i.removeLayer(e),n(void 0))}}}),[i]),M(o,r),y(o,e,["Path","Options","Map","ExtData"]),C(o,e,["onHide","onShow","onMouseOut","onChange","onRightClick","onDblClick","onMouseDown","onClick","onMouseOver","onTouchEnd","onTouchMove","onTouchStart","onMouseUp"]),{polyline:o,setPolyline:n}}var ge=n().forwardRef(((e,o)=>{var{polyline:n}=we(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{polyline:n})),[n]),null})),Ee=["visiable"],be=function(e){void 0===e&&(e={});var{visiable:o}=e,n=k(e,Ee),{map:r}=O(),[a,i]=(0,t.useState)();return(0,t.useEffect)((()=>{if(AMap&&r&&!a){var e=new AMap.Rectangle(d({},n));return r.add(e),i(e),()=>{e&&(r&&r.removeLayer(e),i(void 0))}}}),[r]),M(a,o),y(a,e,["Bounds","Options","Map","ExtData"]),C(a,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{rectangle:a,setRectangle:i}},ke=n().forwardRef(((e,o)=>{var{rectangle:n}=be(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{rectangle:n}))),null}));function Ae(e){void 0===e&&(e={});var[o,n]=(0,t.useState)(),{position:r,visiable:a,offset:i}=e,{map:u}=O();return(0,t.useEffect)((()=>{var e;if(u&&!o)return u.plugin(["AMap.Scale"],(()=>{e=new AMap.Scale({offset:i,position:r}),u.addControl(e),n(e)})),()=>{e&&u.removeControl(e)}}),[u]),M(o,a),{scaleControl:o,setScaleControl:n}}var Se=n().forwardRef(((e,o)=>{var{scaleControl:n}=Ae(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{scaleControl:n})),[n]),null})),xe=["visiable"],Oe=function(e){void 0===e&&(e={});var{visiable:o}=e,n=k(e,xe),[r,a]=(0,t.useState)(),{map:i}=O(),u=g({children:e.children});return(0,t.useEffect)((()=>{if(AMap&&i&&!r){e.children&&(n.text=u.innerHTML);var o=new AMap.Text(d({},n));return i.add(o),a(o),()=>{o&&(o.remove(),a(void 0))}}}),[i]),(0,t.useEffect)((()=>{r&&r.setText(e.children?u.innerHTML:e.text||"")}),[e.children,e.text,u,r]),M(r,o),y(r,e,["Style","Title","Clickable","Draggable","Map","Position","Offset","Angle","zIndex","Top","Cursor","ExtData"]),C(r,e,["onMoving","onTouchMove","onTouchEnd","onMoveaLong","onTouchStart","onMoveEnd","onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragEnd","onDragging"]),{text:r,setText:a}},Te=(0,t.forwardRef)(((e,o)=>{var{text:n}=Oe(d({},e));return(0,t.useImperativeHandle)(o,(()=>d({},e,{text:n}))),null}));function Re(e){void 0===e&&(e={});var[o,n]=(0,t.useState)(),{position:r,visiable:a,offset:i}=e,{map:u}=O();return(0,t.useEffect)((()=>{var e;if(u&&!o)return u.plugin(["AMap.ToolBar"],(()=>{e=new AMap.ToolBar({offset:i,position:r}),u.addControl(e),n(e)})),()=>{e&&u.removeControl(e)}}),[u]),M(o,a),{toolBarControl:o,setToolBarControl:n}}var De=n().forwardRef(((e,o)=>{var{toolBarControl:n}=Re(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{toolBarControl:n})),[n]),null})),Ie=function(e){void 0===e&&(e={});var{city:o="",type:n="live",onComplete:r,onError:a}=e,[i,u]=(0,t.useState)(),l="live"===n?"getLive":"getForecast";return(0,t.useEffect)((()=>{var e;if(AMap&&!i)return AMap.plugin(["AMap.Weather"],(()=>{e=new AMap.Weather,u(e)})),()=>{e&&u(void 0)}}),[]),(0,t.useMemo)((()=>{var e;i&&o&&n&&(e=i,n&&o&&/^(live|forecast)$/.test(n)&&e[l](o,((e,o)=>{e&&a?a(e):o&&r&&r(o)})))}),[i,o,n]),{weather:i,setWeather:u}},Pe=n().forwardRef(((e,o)=>{var{weather:n}=Ie(e);return(0,t.useImperativeHandle)(o,(()=>d({},e,{weather:n}))),null}))})(),a})()));