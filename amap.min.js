/*! For license information please see amap.min.js.LICENSE.txt */
!function(e,o){"object"===typeof exports&&"object"===typeof module?module.exports=o(require("react"),require("react-dom")):"function"===typeof define&&define.amd?define(["react","react-dom"],o):"object"===typeof exports?exports["@uiw/react-amap"]=o(require("react"),require("react-dom")):e["@uiw/react-amap"]=o(e.React,e.ReactDOM)}(self,(function(e,o){return(()=>{"use strict";var t={382:e=>{var o=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var o={},t=0;t<10;t++)o["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(o).map((function(e){return o[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(e,a){for(var i,l,s=r(e),u=1;u<arguments.length;u++){for(var c in i=Object(arguments[u]))t.call(i,c)&&(s[c]=i[c]);if(o){l=o(i);for(var p=0;p<l.length;p++)n.call(i,l[p])&&(s[l[p]]=i[l[p]])}}return s}},858:(e,o,t)=>{t(382);var n=t(787),r=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;r=a("react.element"),a("react.fragment")}var i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,o,t){var n,a={},u=null,c=null;for(n in void 0!==t&&(u=""+t),void 0!==o.key&&(u=""+o.key),void 0!==o.ref&&(c=o.ref),o)l.call(o,n)&&!s.hasOwnProperty(n)&&(a[n]=o[n]);if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===a[n]&&(a[n]=o[n]);return{$$typeof:r,type:e,key:u,ref:c,props:a,_owner:i.current}}o.jsx=u,o.jsxs=u},664:(e,o,t)=>{e.exports=t(858)},787:o=>{o.exports=e},156:e=>{e.exports=o}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{function e(e,o,t,n,r,a,i){try{var l=e[a](i),s=l.value}catch(u){return void t(u)}l.done?o(s):Promise.resolve(s).then(n,r)}r.r(a),r.d(a,{APILoader:()=>c,AutoComplete:()=>w,BezierCurve:()=>b,Circle:()=>S,CircleMarker:()=>O,Context:()=>J,ContextMenu:()=>P,ControlBarControl:()=>H,Ellipse:()=>L,Geolocation:()=>W,HawkEyeControl:()=>q,InfoWindow:()=>V,Map:()=>oe,MapTypeControl:()=>re,Marker:()=>se,MassMarks:()=>pe,Polygon:()=>fe,PolygonEditor:()=>me,Polyline:()=>Ce,Rectangle:()=>ge,ScaleControl:()=>be,Text:()=>xe,ToolBarControl:()=>Oe,Weather:()=>De,delay:()=>u,initialState:()=>$,reducer:()=>Y,requireCss:()=>i,requireScript:()=>l,useAutoComplete:()=>y,useBezierCurve:()=>E,useCircle:()=>A,useCircleMarker:()=>T,useContextMenu:()=>D,useControlBarControl:()=>j,useEllipse:()=>B,useEventProperties:()=>M,useGeolocation:()=>N,useHawkEyeControl:()=>F,useInfoWindow:()=>G,useMap:()=>X,useMapContext:()=>K,useMapTypeControl:()=>ne,useMarker:()=>ie,useMassMarks:()=>ce,usePolygon:()=>ve,usePolyline:()=>he,usePrevious:()=>m,useRectangle:()=>we,useScaleControl:()=>Ee,useSetStatus:()=>v,useSettingProperties:()=>h,useText:()=>Ae,useToolBarControl:()=>Te,useVisiable:()=>f,useWeather:()=>Re});var o=r(787),t=r.n(o),n={};function i(e){var o=document&&(document.head||document.getElementsByTagName("head")[0]);return new Promise(((t,r)=>{if(document&&!(e in n)){var a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=e,a.onerror=t=>{o.removeChild(a),r(new URIError("The css "+e+" is no accessible."))},a.onload=()=>{n[e]=!0,t()},o.appendChild(a)}else t()}))}function l(e,o){void 0===o&&(o="_react_amap");var t=document&&(document.head||document.getElementsByTagName("head")[0]);return new Promise(((r,a)=>{if(document&&!(e in n)){var i=document.createElement("script");i.type="text/javascript",i.id=o,i.async=!0,i.defer=!0,i.src=e,i.onerror=o=>{t.removeChild(i),a(new URIError("The Script "+e+" is no accessible."))},i.onload=()=>{n[e]=!0,r()},t.appendChild(i)}else r()}))}var s=r(664);function u(e){return new Promise(((o,t)=>{window.setTimeout(o,e)}))}class c extends o.Component{constructor(e){if(super(e),this.state={loaded:!!window.AMap},this.handleError=e=>{this.setState({error:e})},this.finish=()=>{this.setState({loaded:!0})},null===e.akay)throw new TypeError("AMap: akay is required")}componentDidMount(){var{callbackName:e}=this.props;if(null==window.AMap){if(window[e])return void c.waitQueue.push([this.finish,this.handleError]);this.loadMap()}}render(){return this.state.loaded?this.props.children:this.props.fallback?this.props.fallback(this.state.error):this.state.error?(0,s.jsx)("div",{style:{color:"red"},children:this.state.error.message}):null}getScriptSrc(){var e=this.props,o=e.protocol||window.location.protocol;-1===o.indexOf(":")&&(o+=":");var t="";return e.plugin&&(t="&plugin="+e.plugin),o+"//"+e.hostAndPath+"?v="+e.version+"&key="+e.akay+"&callback="+e.callbackName+t}loadMap(){var o,t=this;return(o=function*(){var{callbackName:e}=t.props,o=t.getScriptSrc();window[e]=()=>{var e=c.waitQueue;c.waitQueue=[],e.forEach((e=>e[0]())),t.finish()};for(var n=0;n<3;n++)try{yield l(o);break}catch(a){if(2===n){var r=function(){var e=new Error("Failed to load AMap: "+a.message),o=c.waitQueue;return c.waitQueue=[],o.forEach((o=>o[1](e))),t.handleError(e),{v:void 0}}();if("object"===typeof r)return r.v}yield u(1e3*n)}},function(){var t=this,n=arguments;return new Promise((function(r,a){var i=o.apply(t,n);function l(o){e(i,r,a,l,s,"next",o)}function s(o){e(i,r,a,l,s,"throw",o)}l(void 0)}))})()}}function p(){return p=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},p.apply(this,arguments)}function d(e,o){if(null==e)return{};var t,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],o.indexOf(t)>=0||(r[t]=e[t]);return r}function v(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]),n.forEach((n=>{var r=n,[a,i]=(0,o.useState)(t[r]);(0,o.useEffect)((()=>{if(e&&void 0!==t[r]&&t[r]!==a){var o=e.getStatus();e.setStatus(p({},o,{[r]:t[r]})),i(t[r])}}),[e,t[r]])}))}function f(e,t){var[n,r]=(0,o.useState)(t);(0,o.useEffect)((()=>{e&&void 0!==t&&(t?e.show&&e.show():e.hide&&e.hide(),t!==n&&r(t))}),[e,t])}function m(e){var t=(0,o.useRef)();return(0,o.useEffect)((()=>{t.current=e})),t.current}function M(e,t,n,r){void 0===t&&(t={}),void 0===n&&(n=[]),n.forEach((n=>{var r=n,a=t[r];(0,o.useEffect)((()=>{if(e){var o=n.toLocaleLowerCase().replace(/^on/,"");return a&&o&&e.on(o,a),()=>{o&&a&&e.off(o,a)}}}),[e,t[r]])}))}function h(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n=[]),n.forEach((n=>{var r="set"+n,a=""+n.charAt(0).toLowerCase()+n.slice(1),[i,l]=(0,o.useState)(t[a]);(0,o.useEffect)((()=>{e&&void 0!==t[a]&&t[a]!==i&&e[r]&&"function"===typeof e[r]&&(e[r](t[a]),l(t[a]))}),[e,t[a]])}))}c.defaultProps={protocol:/^file:/.test(window.location.protocol)?"https":window.location.protocol,akay:"",hostAndPath:"webapi.amap.com/maps",version:"2.0",callbackName:"load_amap_sdk",plugin:""},c.waitQueue=[];var C=["map"],y=function(e){void 0===e&&(e={});var t=d(e,C),[n,r]=(0,o.useState)();return(0,o.useEffect)((()=>{var e;if(AMap&&!n)return AMap.plugin(["AMap.AutoComplete"],(()=>{e=new AMap.AutoComplete(p({},t)),r(e)})),()=>{e&&r(void 0)}}),[]),h(n,e,["Type","City","CityLimit"]),M(n,e,["onChoose","onSelect"]),{autoComplete:n,setAutoComplete:r}},w=t().forwardRef(((e,t)=>{var{autoComplete:n}=y(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{autoComplete:n}))),null})),g=["map","visiable"],E=function(e){void 0===e&&(e={});var{map:t,visiable:n}=e,r=d(e,g),[a,i]=(0,o.useState)();return(0,o.useEffect)((()=>{if(AMap&&t&&!a){var e=new AMap.BezierCurve(p({},r));return t.add(e),i(e),()=>{e&&(t&&t.removeLayer(e),i(void 0))}}}),[t]),f(a,n),h(a,e,["Options","Path","ExtData","ExtData"]),M(a,e,["onHide","onShow","onDblClick","onMouseOver","onMouseUp","onMouseDown","onclick","onTouchEnd","onTouchMove","onTouchStart","onRightClick","onMouseOut"]),{bezierCurve:a,setBezierCurve:i}},b=t().forwardRef(((e,t)=>{var{bezierCurve:n}=E(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{bezierCurve:n}))),null})),k=["map","visiable"],A=function(e){void 0===e&&(e={});var{map:t,visiable:n}=e,r=d(e,k),[a,i]=(0,o.useState)();return(0,o.useEffect)((()=>{if(AMap&&t&&!a){var e=new AMap.Circle(p({},r));t.add(e),i(e)}return()=>{a&&(t&&t.remove(a),i(void 0))}}),[t]),f(a,n),h(a,e,["Center","Raius","Options","ExtData"]),M(a,e,["onHide","onShow","onRightClick","onClick","onTouchEnd","onDblClick","onTouchMove","onTouchStart","onMouseOut","onMouseOver","onMouseUp","onMouseDown"]),{circle:a,setCircle:i}},S=t().forwardRef(((e,t)=>{var{circle:n}=A(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{circle:n}))),null})),x=["map","visiable"],T=function(e){void 0===e&&(e={});var{map:t,visiable:n}=e,r=d(e,x),[a,i]=(0,o.useState)();return(0,o.useEffect)((()=>{if(AMap&&t&&!a){var e=new AMap.CircleMarker(p({},r));return t.add(e),i(e),()=>{e&&(t&&t.removeLayer(e),i(void 0))}}}),[t]),f(a,n),h(a,e,["Center","Raius","zIndex","Bubble","Cursor","StrokeColor","StrokeOpacity","StrokeWeight","FillColor","FillOpacity","Draggable","ExtData"]),M(a,e,["onHide","onShow","onMouseover","onTouchend","onClick","onTouchmove","onRightclick","onMouseup","onMouseout","onTouchstart","onMousedown","onDblclick"]),{circleMarker:a,setCircleMarker:i}},O=t().forwardRef(((e,t)=>{var{circleMarker:n}=T(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{circleMarker:n}))),null})),R=["map","position"],D=function(e){void 0===e&&(e={});var{map:t,position:n}=e,r=d(e,R),[a,i]=(0,o.useState)();return(0,o.useEffect)((()=>{if(AMap&&t&&!a){var e=new AMap.ContextMenu(p({},r));i(e);var o=o=>e.open(t,n||o.lnglat);return t.on("rightclick",o),()=>{e&&(t.off("rightclick",o),t&&t.removeLayer(e),i(void 0))}}}),[t]),M(a,e,["onOpen","onClose"]),{contextMenu:a,setContextMenu:i}},I=function(){};var P=t().forwardRef(((e,n)=>{var{contextMenu:r}=D(e);(0,o.useImperativeHandle)(n,(()=>p({},e,{contextMenu:r})));var a=t().Children.toArray(e.children);return(0,s.jsx)(o.Fragment,{children:AMap&&r&&a.map(((o,n)=>t().isValidElement(o)?t().cloneElement(o,p({},o.props,{AMap:AMap,map:e.map,contextMenu:r,key:n})):null))})}));function j(e){void 0===e&&(e={});var[t,n]=(0,o.useState)(),{map:r,position:a,visiable:i,offset:l}=e;return(0,o.useEffect)((()=>{var e;if(r&&!t)return r.plugin(["AMap.ControlBar","AMap.HawkEye"],(()=>{e=new AMap.ControlBar({offset:l,position:a}),r.addControl(e),n(e)})),()=>{e&&r.removeControl(e)}}),[r]),f(t,i),{controlBarControl:t,setControlBarControl:n}}P.Item=function(e){void 0===e&&(e={});var{text:t="",onClick:n=I}=e;return(0,o.useEffect)((()=>(e.contextMenu&&e.contextMenu.addItem(t,n,1),()=>{e.contextMenu&&e.contextMenu.removeItem(t,n)})),[e.contextMenu,e.text,e.onClick]),null};var H=t().forwardRef(((e,t)=>{var{controlBarControl:n}=j(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{controlBarControl:n})),[n]),null})),z=["map","visiable"],B=function(e){void 0===e&&(e={});var{map:t,visiable:n}=e,r=d(e,z),[a,i]=(0,o.useState)();return(0,o.useEffect)((()=>{if(AMap&&t&&!a){var e=new AMap.Ellipse(p({},r));return t.add(e),i(e),()=>{e&&(t&&t.removeLayer(e),i(void 0))}}}),[t]),f(a,n),h(a,e,["Center","Radius","Options","ExtData"]),M(a,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{ellipse:a,setEllipse:i}},L=t().forwardRef(((e,t)=>{var{ellipse:n}=B(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{ellipse:n}))),null})),_=["map","type","onComplete","onError"],N=function(e){void 0===e&&(e={});var{map:t,type:n="position",onComplete:r,onError:a}=e,i=d(e,_),[l,s]=(0,o.useState)();function u(e,o){"complete"===e&&r?r(o):a&&a(o)}return(0,o.useEffect)((()=>{var e;if(AMap&&!l)return AMap.plugin(["AMap.Geolocation"],(()=>{e=new AMap.Geolocation(p({},i)),s(e)})),()=>{e&&s(void 0)}}),[AMap]),(0,o.useMemo)((()=>{if(/^(position|cityInfo)$/.test(n)){var e="position"===n?"getCurrentPosition":"getCityInfo";l&&t?(l[e](u),t.addControl(l)):l&&l[e](u)}}),[l]),{geolocation:l,setGeolocation:s}},W=t().forwardRef(((e,t)=>{var{geolocation:n}=N(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{geolocation:n}))),null})),U=["map","offset","visiable"];function F(e){void 0===e&&(e={});var[t,n]=(0,o.useState)(),{map:r,offset:a,visiable:i}=e,l=d(e,U);return(0,o.useEffect)((()=>{var e;if(r&&!t)return r.plugin(["AMap.HawkEye"],(()=>{e=new AMap.HawkEye(p({offset:a},l)),r.addControl(e),n(e)})),()=>{e&&r&&(r.removeLayer(e),n(void 0))}}),[r]),f(t,i),{hawkEyeControl:t,setHawkEyeControl:n}}var q=t().forwardRef(((e,t)=>{var{hawkEyeControl:n}=F(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{hawkEyeControl:n})),[n]),null})),Q=r(156),Z=["map","visiable","position"],G=function(e){void 0===e&&(e={});var{map:t,visiable:n,position:r}=e,a=d(e,Z),[i,l]=(0,o.useState)(n),[s,u]=(0,o.useState)();return(0,o.useEffect)((()=>{if(AMap&&t&&!s){var e=t.getCenter(),o=new AMap.InfoWindow(p({},a,{position:r||e}));return u(o),i&&o.open(t,r||e),()=>{o&&(t&&t.remove(o),u(void 0))}}}),[t]),(0,o.useMemo)((()=>{if(i!==n&&s&&t)if(l(n),n){var e=t.getCenter();s.open(t,r||e)}else s.close()}),[n,s]),(0,o.useEffect)((()=>{if(t&&s&&n){var e=t.getCenter();s.open(t,r||e)}}),[r]),h(s,e,["Content","Anchor","Size"]),M(s,e,["onOpen","onClose","onChange"]),{infoWindow:s,setInfoWindow:u}},V=t().forwardRef(((e,t)=>{var{children:n}=e,r=(0,o.useMemo)((()=>document.createElement("div")),[]);(0,o.useEffect)((()=>(0,Q.render)((0,s.jsx)(o.Fragment,{children:n}),r)),[n]);var{infoWindow:a}=G(p({},e,{content:n?r:e.content}));return(0,o.useImperativeHandle)(t,(()=>p({},e,{infoWindow:a}))),null})),$={map:void 0,AMap:void 0,container:void 0},Y=(e,o)=>p({},e,o),J=t().createContext({state:$,dispatch:()=>null});function K(){var{state:e,dispatch:t}=(0,o.useContext)(J);return{state:e,dispatch:t}}var X=function(e){void 0===e&&(e={});var t=p({},e),[n,r]=(0,o.useState)(),[a,i]=(0,o.useState)(e.zoom||15),[l,s]=(0,o.useState)(e.container),{dispatch:u}=(0,o.useContext)(J);return(0,o.useEffect)((()=>{var e;if(l&&!n&&AMap){var o=document.createElement("div");o.className="react-amap-wapper",o.style.height="100%",o.style.width="100%",e=new AMap.Map(o,p({zoom:a},t)),l.appendChild(o),r(e)}return()=>{e&&(e.destroy(),e.clearMap(),e.clearInfoWindow(),e.clearLimitBounds(),r(void 0))}}),[l]),(0,o.useEffect)((()=>(n&&l&&u({map:n,container:l,AMap:AMap}),()=>{u({map:void 0,container:void 0,AMap:void 0})})),[n,l]),(0,o.useMemo)((()=>{n&&"number"===typeof e.zoom&&a!==e.zoom&&e.zoom>=2&&e.zoom<=20&&(i(e.zoom),n.setZoom(e.zoom))}),[a,e.zoom]),v(n,e,["dragEnable","zoomEnable","jogEnable","pitchEnable","rotateEnable","animateEnable","keyboardEnable"]),h(n,e,["Zoom","LabelzIndex","Layers","Center","City","Bounds","LimitBounds","Lang","Rotation","DefaultCursor","MapStyle","Features","DefaultLayer","Pitch"]),M(n,e,["onMouseMove","onZoomChange","onMapMove","onMouseWheel","onZoomStart","onMouseOver","onMouseOut","onDblClick","onClick","onZoomEnd","onMoveEnd","onMouseUp","onMouseDown","onRightClick","onMoveStart","onDragStart","onDragging","onDragEnd","onHotspotOut","onHotspotOver","onTouchStart","onComplete","onHotspotClick","onTouchMove","onTouchEnd","onResize"]),{map:n,setMap:r,container:l,setContainer:s}},ee=["className","style","children"],oe=(0,o.forwardRef)(((e,t)=>{var{className:n,style:r,children:a}=e,i=d(e,ee),[l,u]=(0,o.useReducer)(Y,$),c=(0,o.useRef)(null),{setContainer:v,container:f,map:m}=X(p({container:i.container||c.current},i));(0,o.useEffect)((()=>v(c.current)),[c.current]),(0,o.useImperativeHandle)(t,(()=>p({},i,{map:m,AMap:AMap,container:i.container||c.current})),[m]);var M=o.Children.toArray(a);return(0,o.useEffect)((()=>{m&&u({map:m,container:c.current,AMap:AMap})}),[m]),(0,s.jsxs)(J.Provider,{value:{state:l,dispatch:u},children:[!i.container&&(0,s.jsx)("div",{ref:c,className:n,style:p({fontSize:1,height:"100%"},r)}),AMap&&m&&"function"===typeof a&&a({AMap:AMap,map:m,container:f}),AMap&&m&&M.map(((e,t)=>"string"===typeof e?(0,o.cloneElement)((0,s.jsx)(o.Fragment,{children:e}),{key:t}):(0,o.isValidElement)(e)?e.type&&"string"===typeof e.type?(0,o.cloneElement)(e,{key:t}):(0,o.cloneElement)(e,p({},e.props,{AMap:AMap,map:m,container:f,key:t})):null))]})})),te=["map","visiable","defaultType"];function ne(e){void 0===e&&(e={});var[t,n]=(0,o.useState)(),{map:r,visiable:a,defaultType:i=0}=e,l=d(e,te);return(0,o.useEffect)((()=>{var e;if(r&&!t)return r.plugin(["AMap.MapType"],(()=>{e=new AMap.MapType(p({defaultType:i},l)),r.addControl(e),n(e)})),()=>{e&&r.removeControl(e)}}),[r]),f(t,a),{mapTypeControl:t,setMapTypeControl:n}}var re=t().forwardRef(((e,t)=>{var{mapTypeControl:n}=ne(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{mapTypeControl:n})),[n]),null})),ae=["visiable"],ie=function(e){void 0===e&&(e={});var{visiable:t}=e,n=d(e,ae),{state:r}=K(),[a,i]=(0,o.useState)();return(0,o.useEffect)((()=>{if(!a&&r.map){var e=new AMap.Marker(p({},n));r.map.add(e),i(e)}return()=>{a&&(a.remove(),i(void 0))}}),[r.map,a]),f(a,t),h(a,e,["Path","Anchor","Offset","Animation","Clickable","Position","Angle","Label","zIndex","Icon","Draggable","Cursor","Content","Map","Title","Top","Shadow","Shape","ExtData"]),M(a,e,["onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragging","onDragEnd","onMoving","onMoveEnd","onMoveAlong","onTouchStart","onTouchMove","onTouchEnd"]),{marker:a,setMarker:i}},le=["children","className","content"],se=(0,o.forwardRef)(((e,t)=>{var{children:n,className:r,content:a}=e,i=d(e,le),l=(0,o.useMemo)((()=>document.createElement("div")),[]);l.className=r||"",(0,o.useEffect)((()=>(0,Q.render)((0,s.jsx)(o.Fragment,{children:n}),l)),[n]);var{marker:u}=ie(p({},i,{content:n?l:a}));return(0,o.useImperativeHandle)(t,(()=>p({},i,{marker:u})),[u]),null})),ue=["map","visiable"],ce=function(e){void 0===e&&(e={});var{map:t,visiable:n}=e,r=d(e,ue),{opacity:a=.8,zIndex:i=1111,style:l,data:s}=r||{},[u,c]=(0,o.useState)();return(0,o.useEffect)((()=>{if(AMap&&t&&!u){var e=l;e||(e=[{url:"https://webapi.amap.com/images/mass/mass0.png",anchor:new AMap.Pixel(6,6),size:new AMap.Size(11,11),zIndex:3},{url:"https://webapi.amap.com/images/mass/mass1.png",anchor:new AMap.Pixel(4,4),size:new AMap.Size(7,7),zIndex:2},{url:"https://webapi.amap.com/images/mass/mass2.png",anchor:new AMap.Pixel(3,3),size:new AMap.Size(5,5),zIndex:1}]);var o=new AMap.MassMarks(s||[],{opacity:a,zIndex:i,style:e});return c(o),o.setMap(t),()=>{o&&(o.clear(),c(void 0))}}}),[t]),f(u,n),h(u,e,["Map","Data","Style","Opacity","zIndex","Zooms"]),M(u,e,["onClick","onDblClick","onMouseMove","onMouseOut","onMouseUp","onMouseDown","onMouseOver","onTouchStart","onTouchEnd"]),{massMarks:u,setMassMarks:c}},pe=t().forwardRef(((e,t)=>{var{massMarks:n}=ce(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{massMarks:n})),[n,e]),null})),de=["map","visiable"],ve=function(e){void 0===e&&(e={});var{map:t,visiable:n}=e,r=d(e,de),[a,i]=(0,o.useState)();return(0,o.useEffect)((()=>{if(AMap&&t&&!a){var e=new AMap.Polygon(p({},r));t.add(e),i(e)}}),[t]),f(a,n),h(a,e,["ExtData","ExtData"]),M(a,e,["onClick","onDblClick","onRightClick","onHide","onShow","onMouseDown","onMouseUp","onMouseOver","onMouseOut","onChange","onTouchStart","onTouchMove","onTouchEnd"]),{polygon:a,setPolygon:i}},fe=(0,o.forwardRef)(((e,t)=>{var{children:n}=e,{polygon:r}=ve(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{polygon:r}))),n&&(0,o.isValidElement)(n)?(0,o.cloneElement)(n,p({},e,{polygon:r})):null})),me=(0,o.forwardRef)(((e,t)=>{var{active:n,map:r,polygon:a}=e,[i,l]=(0,o.useState)(!0),[s,u]=(0,o.useState)();return(0,o.useEffect)((()=>{if(a&&r&&!s&&AMap&&AMap.PolygonEditor){var e=new AMap.PolygonEditor(r,a);a.on("hide",(()=>l(!1))),a.on("show",(()=>l(!0))),u(e)}}),[a]),(0,o.useEffect)((()=>{s&&(i&&!n?s.close():i&&n?s.open():!i&&n&&s.close())}),[n,i]),M(s,e,["onEnd","onAddnode","onAdjust","onMove","onAdd"]),null})),Me=["map","visiable"];function he(e){void 0===e&&(e={});var[t,n]=(0,o.useState)(),{map:r,visiable:a}=e,i=d(e,Me);return(0,o.useEffect)((()=>{if(r&&!t){var e=new AMap.Polyline(p({},i));return r.add(e),n(e),()=>{e&&(r&&r.removeLayer(e),n(void 0))}}}),[r]),f(t,a),h(t,e,["Path","Options","Map","ExtData"]),M(t,e,["onHide","onShow","onMouseOut","onChange","onRightClick","onDblClick","onMouseDown","onClick","onMouseOver","onTouchEnd","onTouchMove","onTouchStart","onMouseUp"]),{polyline:t,setPolyline:n}}var Ce=t().forwardRef(((e,t)=>{var{polyline:n}=he(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{polyline:n})),[n]),null})),ye=["map","visiable"],we=function(e){void 0===e&&(e={});var{map:t,visiable:n}=e,r=d(e,ye),[a,i]=(0,o.useState)();return(0,o.useEffect)((()=>{if(AMap&&t&&!a){var e=new AMap.Rectangle(p({},r));return t.add(e),i(e),()=>{e&&(t&&t.removeLayer(e),i(void 0))}}}),[t]),f(a,n),h(a,e,["Bounds","Options","Map","ExtData"]),M(a,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{rectangle:a,setRectangle:i}},ge=t().forwardRef(((e,t)=>{var{rectangle:n}=we(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{rectangle:n}))),null}));function Ee(e){void 0===e&&(e={});var[t,n]=(0,o.useState)(),{map:r,position:a,visiable:i,offset:l}=e;return(0,o.useEffect)((()=>{var e;if(r&&!t)return r.plugin(["AMap.Scale"],(()=>{e=new AMap.Scale({offset:l,position:a}),r.addControl(e),n(e)})),()=>{e&&r.removeControl(e)}}),[r]),f(t,i),{scaleControl:t,setScaleControl:n}}var be=t().forwardRef(((e,t)=>{var{scaleControl:n}=Ee(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{scaleControl:n})),[n]),null})),ke=["map","visiable"],Ae=function(e){void 0===e&&(e={});var{map:t,visiable:n}=e,r=d(e,ke),[a,i]=(0,o.useState)();return(0,o.useEffect)((()=>{if(AMap&&t&&!a){var e=new AMap.Text(p({},r));return t.add(e),i(e),()=>{e&&(e.remove(),i(void 0))}}}),[t]),f(a,n),h(a,e,["Style","Title","Clickable","Draggable","Map","Position","Offset","Angle","zIndex","Top","Cursor","ExtData"]),M(a,e,["onMoving","onTouchMove","onTouchEnd","onMoveaLong","onTouchStart","onMoveEnd","onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragEnd","onDragging"]),{text:a,setText:i}},Se=["children"],xe=(0,o.forwardRef)(((e,t)=>{var{children:n}=e,r=d(e,Se),a=(0,o.useMemo)((()=>document.createElement("div")),[]);(0,o.useEffect)((()=>(0,Q.render)((0,s.jsx)(o.Fragment,{children:n}),a)),[n]);var i=n?a.innerHTML:e.text,{text:l}=Ae(p({},r,{text:i}));return(0,o.useEffect)((()=>{n&&l&&l.setText(i||"")}),[n,l]),(0,o.useImperativeHandle)(t,(()=>p({},r,{text:l}))),null}));function Te(e){void 0===e&&(e={});var[t,n]=(0,o.useState)(),{map:r,position:a,visiable:i,offset:l}=e;return(0,o.useEffect)((()=>{var e;if(r&&!t)return r.plugin(["AMap.ToolBar"],(()=>{e=new AMap.ToolBar({offset:l,position:a}),r.addControl(e),n(e)})),()=>{e&&r.removeControl(e)}}),[r]),f(t,i),{toolBarControl:t,setToolBarControl:n}}var Oe=t().forwardRef(((e,t)=>{var{toolBarControl:n}=Te(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{toolBarControl:n})),[n]),null})),Re=function(e){void 0===e&&(e={});var{city:t="",type:n="live",onComplete:r,onError:a}=e,[i,l]=(0,o.useState)(),s="live"===n?"getLive":"getForecast";return(0,o.useEffect)((()=>{var e;if(AMap&&!i)return AMap.plugin(["AMap.Weather"],(()=>{e=new AMap.Weather,l(e)})),()=>{e&&l(void 0)}}),[]),(0,o.useMemo)((()=>{var e;i&&t&&n&&(e=i,n&&t&&/^(live|forecast)$/.test(n)&&e[s](t,((e,o)=>{e&&a?a(e):o&&r&&r(o)})))}),[i,t,n]),{weather:i,setWeather:l}},De=t().forwardRef(((e,t)=>{var{weather:n}=Re(e);return(0,o.useImperativeHandle)(t,(()=>p({},e,{weather:n}))),null}))})(),a})()}));