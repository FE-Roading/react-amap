(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1174],{80363:function(e){function n(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}n.keys=function(){return[]},n.resolve=n,n.id=80363,e.exports=n},29929:function(e,n,o){"use strict";o.d(n,{Z:function(){return C}});var t=o(50189),r=o(53782),a=o(22951),i=o(91976),u=o(67591),c=o(43415),s=o(41473),l=o(59916),f=o(75166),d=o(69286),p=["dependencies","codeSandbox","codePen"];function v(e){var n=e.dependencies,o=e.codeSandbox,a=(e.codePen,(0,r.Z)(e,p)),i=(0,t.Z)({},a);return o&&(i.codeSandboxOption={files:{"sandbox.config.json":{content:'{\n        "template": "node",\n        "container": {\n          "startScript": "start",\n          "node": "14"\n        }\n      }'},"public/index.html":{content:'<div id="container"></div>'},"src/index.js":{content:i.code.replace("_mount_",'document.getElementById("container")')},".kktrc.js":{content:'import webpack from "webpack";\nimport lessModules from "@kkt/less-modules";\nexport default (conf, env, options) => {\nconf = lessModules(conf, env, options);\nreturn conf;\n};'},"package.json":{content:{name:"react-amap-demo",description:"\u767e\u5ea6\u5730\u56fe React \u7ec4\u4ef6 - demo",dependencies:{react:"latest","react-dom":"latest","@uiw/react-amap":"latest"},devDependencies:{"@kkt/less-modules":"6.11.0",kkt:"6.11.0",typescript:"4.1.3"},license:"MIT",scripts:{start:"kkt start",build:"kkt build",test:"kkt test --env=jsdom"},browserslist:[">0.2%","not dead","not ie <= 11","not op_mini all"]}}}}),(0,d.jsx)(f.Z,(0,t.Z)((0,t.Z)({},i),{},{dependencies:(0,t.Z)((0,t.Z)({},n),{},{React:s},s),style:{marginBottom:0}}))}var m="index_footer__Fp4ea",h=function(e){var n=(e||{}).editorUrl;return(0,d.jsxs)("div",{className:m,children:[n&&(0,d.jsx)("a",{title:"Editor Current Page",target:"_blank",rel:"noreferrer",href:"https://github.com/uiwjs/react-amap/edit/master".concat(n),children:"\u7f16\u8f91\u5f53\u524d\u9875\u9762"}),(0,d.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/uiwjs/react-amap/issues/new",children:"\u63d0\u4ea4 Bug"}),(0,d.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/uiwjs/react-amap",children:"GitHub"}),(0,d.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kktjs/kkt",children:"kkt"}),(0,d.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/uiwjs/uiw",children:"uiwjs"}),(0,d.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/uiwjs/react-baidu-map",children:"\u767e\u5ea6\u5730\u56fe React \u7248\u672c"})]})},M="index_markdown__hcQCp",w=["inline","node"],g=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.forEach((function(n){"text"===n.type?o+=n.value:n.children&&Array.isArray(n.children)&&(o+=e(n.children))})),o},C=function(e){(0,u.Z)(o,e);var n=(0,c.Z)(o);function o(e){var t;return(0,a.Z)(this,o),(t=n.call(this,e)).editorUrl=void 0,t.getMdStr=void 0,t.dependencies=void 0,t.state={mdStr:""},t}return(0,i.Z)(o,[{key:"componentDidMount",value:function(){var e=this;this.getMdStr&&this.getMdStr().then((function(n){e.setState({mdStr:n.default||n})}))}},{key:"render",value:function(){var e=this;return(0,d.jsxs)(s.Fragment,{children:[(0,d.jsx)(l.Z,{style:{padding:"20px 26px"},source:this.state.mdStr,className:M,components:{code:function(n){var o=n.inline,a=n.node,i=(0,r.Z)(n,w),u=i,c=u.noPreview,s=u.noScroll,l=u.bgWhite,f=u.noCode,p=u.codeSandbox,m=u.codePen;if(o)return(0,d.jsx)("code",(0,t.Z)({},i));var h={noPreview:c,noScroll:s,bgWhite:l,noCode:f,codeSandbox:p,codePen:m};return 0===Object.keys(h).filter((function(e){return void 0!==h[e]})).length?(0,d.jsx)("code",(0,t.Z)({},i)):(0,d.jsx)(v,{code:g(a.children),dependencies:e.dependencies,noPreview:c,noScroll:s,bgWhite:l,noCode:f,codePen:m,codeSandbox:p})}}}),(0,d.jsx)(h,{editorUrl:this.editorUrl})]})}}]),o}(s.Component)},10616:function(e,n,o){"use strict";o.d(n,{_F:function(){return m},Qc:function(){return y},hr:function(){return A},Cd:function(){return R},cp:function(){return H},xV:function(){return _},mS:function(){return L},Pj:function(){return F},bT:function(){return G},cd:function(){return q},nx:function(){return Y},D5:function(){return oe},Rj:function(){return ae},Jx:function(){return se},fz:function(){return de},mg:function(){return me},$v:function(){return he},aH:function(){return ge},Ae:function(){return Ze},jf:function(){return Ee},xv:function(){return xe},$2:function(){return Te},yO:function(){return Re},b:function(){return d},Dc:function(){return E},LH:function(){return x},Hq:function(){return D},T5:function(){return j},av:function(){return z},Ij:function(){return B},Z4:function(){return N},ZZ:function(){return Q},kY:function(){return $},mT:function(){return X},Sx:function(){return ee},$d:function(){return re},HV:function(){return ue},yS:function(){return fe},d1:function(){return ve},qb:function(){return we},H_:function(){return ke},Cl:function(){return be},XK:function(){return Se},oQ:function(){return Ae},GE:function(){return De}});var t=o(22951),r=o(91976),a=o(67591),i=o(43415),u=o(57135),c=o.n(u);function s(e,n,o,t,r,a,i){try{var u=e[a](i),c=u.value}catch(s){return void o(s)}u.done?n(c):Promise.resolve(c).then(t,r)}var l=o(41473),f={};function d(e,n){void 0===n&&(n="_react_amap");var o=document&&(document.head||document.getElementsByTagName("head")[0]);return new Promise((function(t,r){if(document&&!(e in f)){var a=document.createElement("script");a.type="text/javascript",a.id=n,a.async=!0,a.defer=!0,a.src=e,a.onerror=function(n){o.removeChild(a),r(new URIError("The Script "+e+" is no accessible."))},a.onload=function(){f[e]=!0,t()},o.appendChild(a)}else t()}))}var p=o(69286);function v(e){return new Promise((function(n,o){window.setTimeout(n,e)}))}var m=function(e){(0,a.Z)(o,e);var n=(0,i.Z)(o);function o(e){var r;if((0,t.Z)(this,o),(r=n.call(this,e)).state={loaded:!!window.AMap},r.handleError=function(e){r.setState({error:e})},r.finish=function(){r.setState({loaded:!0})},null===e.akay)throw new TypeError("AMap: akay is required");return r}return(0,r.Z)(o,[{key:"componentDidMount",value:function(){var e=this.props.callbackName;if(null==window.AMap){if(window[e])return void o.waitQueue.push([this.finish,this.handleError]);this.loadMap()}}},{key:"render",value:function(){return this.state.loaded?this.props.children:this.props.fallback?this.props.fallback(this.state.error):this.state.error?(0,p.jsx)("div",{style:{color:"red"},children:this.state.error.message}):null}},{key:"getScriptSrc",value:function(){var e=this.props,n=e.protocol||window.location.protocol;-1===n.indexOf(":")&&(n+=":");var o="";return e.plugin&&(o="&plugin="+e.plugin),n+"//"+e.hostAndPath+"?v="+e.version+"&key="+e.akay+"&callback="+e.callbackName+o}},{key:"loadMap",value:function(){var e,n=this;return(e=c().mark((function e(){var t,r,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props.callbackName,r=n.getScriptSrc(),window[t]=function(){var e=o.waitQueue;o.waitQueue=[],e.forEach((function(e){return e[0]()})),n.finish()},a=0;case 4:if(!(a<3)){e.next=22;break}return e.prev=5,e.next=8,d(r);case 8:return e.abrupt("break",22);case 11:if(e.prev=11,e.t0=e.catch(5),2!==a){e.next=17;break}if("object"!==typeof(i=function(){var t=new Error("Failed to load AMap: "+e.t0.message),r=o.waitQueue;return o.waitQueue=[],r.forEach((function(e){return e[1](t)})),n.handleError(t),{v:void 0}}())){e.next=17;break}return e.abrupt("return",i.v);case 17:return e.next=19,v(1e3*a);case 19:a++,e.next=4;break;case 22:case"end":return e.stop()}}),e,null,[[5,11]])})),function(){var n=this,o=arguments;return new Promise((function(t,r){var a=e.apply(n,o);function i(e){s(a,t,r,i,u,"next",e)}function u(e){s(a,t,r,i,u,"throw",e)}i(void 0)}))})()}}]),o}(l.Component);m.defaultProps={akay:"",hostAndPath:"webapi.amap.com/maps",version:"2.0",callbackName:"load_amap_sdk",plugin:""},m.waitQueue=[];var h=o(25773),M=o(11026),w=o(30808),g=o(64649);function C(e,n){var o=(0,l.useState)(n),t=(0,M.Z)(o,2),r=t[0],a=t[1];(0,l.useEffect)((function(){e&&void 0!==n&&(n?e.show&&e.show():e.hide&&e.hide(),n!==r&&a(n))}),[e,n])}function k(e,n,o,t){void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var t=o,r=n[t];(0,l.useEffect)((function(){if(e){var n=o.toLocaleLowerCase().replace(/^on/,"");return r&&n&&e.on(n,r),function(){n&&r&&e.off(n,r)}}}),[e,n[t]])}))}function Z(e,n,o){void 0===e&&(e={}),void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var t="set"+o,r=""+o.charAt(0).toLowerCase()+o.slice(1),a=(0,l.useState)(n[r]),i=(0,M.Z)(a,2),u=i[0],c=i[1];(0,l.useEffect)((function(){e&&void 0!==n[r]&&n[r]!==u&&e[t]&&"function"===typeof e[t]&&(e[t](n[r]),c(n[r]))}),[e,n[r]])}))}var b=["map"],E=function(e){void 0===e&&(e={});var n=(0,w.Z)(e,b),o=(0,l.useState)(),t=(0,M.Z)(o,2),r=t[0],a=t[1];return(0,l.useEffect)((function(){var e;if(AMap&&!r)return AMap.plugin(["AMap.AutoComplete"],(function(){e=new AMap.AutoComplete((0,h.Z)({},n)),a(e)})),function(){e&&a(void 0)}}),[]),Z(r,e,["Type","City","CityLimit"]),k(r,e,["onChoose","onSelect"]),{autoComplete:r,setAutoComplete:a}},y=l.forwardRef((function(e,n){var o=E(e).autoComplete;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{autoComplete:o})})),null})),S=["map","visiable"],x=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.visiable,r=(0,w.Z)(e,S),a=(0,l.useState)(),i=(0,M.Z)(a,2),u=i[0],c=i[1];return(0,l.useEffect)((function(){if(AMap&&o&&!u){var e=new AMap.BezierCurve((0,h.Z)({},r));return o.add(e),c(e),function(){e&&(o&&o.removeLayer(e),c(void 0))}}}),[o]),C(u,t),Z(u,e,["Options","Path","ExtData","ExtData"]),k(u,e,["onHide","onShow","onDblClick","onMouseOver","onMouseUp","onMouseDown","onclick","onTouchEnd","onTouchMove","onTouchStart","onRightClick","onMouseOut"]),{bezierCurve:u,setBezierCurve:c}},A=l.forwardRef((function(e,n){var o=x(e).bezierCurve;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{bezierCurve:o})})),null})),T=["map","visiable"],D=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.visiable,r=(0,w.Z)(e,T),a=(0,l.useState)(),i=(0,M.Z)(a,2),u=i[0],c=i[1];return(0,l.useEffect)((function(){if(AMap&&o&&!u){var e=new AMap.Circle((0,h.Z)({},r));o.add(e),c(e)}return function(){u&&(o&&o.remove(u),c(void 0))}}),[o]),C(u,t),Z(u,e,["Center","Raius","Options","ExtData"]),k(u,e,["onHide","onShow","onRightClick","onClick","onTouchEnd","onDblClick","onTouchMove","onTouchStart","onMouseOut","onMouseOver","onMouseUp","onMouseDown"]),{circle:u,setCircle:c}},R=l.forwardRef((function(e,n){var o=D(e).circle;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{circle:o})})),null})),I=["map","visiable"],j=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.visiable,r=(0,w.Z)(e,I),a=(0,l.useState)(),i=(0,M.Z)(a,2),u=i[0],c=i[1];return(0,l.useEffect)((function(){if(AMap&&o&&!u){var e=new AMap.CircleMarker((0,h.Z)({},r));return o.add(e),c(e),function(){e&&(o&&o.removeLayer(e),c(void 0))}}}),[o]),C(u,t),Z(u,e,["Center","Raius","zIndex","Bubble","Cursor","StrokeColor","StrokeOpacity","StrokeWeight","FillColor","FillOpacity","Draggable","ExtData"]),k(u,e,["onHide","onShow","onMouseover","onTouchend","onClick","onTouchmove","onRightclick","onMouseup","onMouseout","onTouchstart","onMousedown","onDblclick"]),{circleMarker:u,setCircleMarker:c}},H=l.forwardRef((function(e,n){var o=j(e).circleMarker;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{circleMarker:o})})),null})),O=["map","position"],z=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.position,r=(0,w.Z)(e,O),a=(0,l.useState)(),i=(0,M.Z)(a,2),u=i[0],c=i[1];return(0,l.useEffect)((function(){if(AMap&&o&&!u){var e=new AMap.ContextMenu((0,h.Z)({},r));c(e);var n=function(n){return e.open(o,t||n.lnglat)};return o.on("rightclick",n),function(){e&&(o.off("rightclick",n),o&&o.removeLayer(e),c(void 0))}}}),[o]),k(u,e,["onOpen","onClose"]),{contextMenu:u,setContextMenu:c}},P=function(){},_=l.forwardRef((function(e,n){var o=z(e).contextMenu;(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{contextMenu:o})}));var t=l.Children.toArray(e.children);return(0,p.jsx)(l.Fragment,{children:AMap&&o&&t.map((function(n,t){return l.isValidElement(n)?l.cloneElement(n,(0,h.Z)({},n.props,{AMap:AMap,map:e.map,contextMenu:o,key:t})):null}))})}));function B(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,M.Z)(n,2),t=o[0],r=o[1],a=e,i=a.map,u=a.position,c=a.visiable,s=a.offset;return(0,l.useEffect)((function(){var e;if(i&&!t)return i.plugin(["AMap.ControlBar","AMap.HawkEye"],(function(){e=new AMap.ControlBar({offset:s,position:u}),i.addControl(e),r(e)})),function(){e&&i.removeControl(e)}}),[i]),C(t,c),{controlBarControl:t,setControlBarControl:r}}_.Item=function(e){void 0===e&&(e={});var n=e,o=n.text,t=void 0===o?"":o,r=n.onClick,a=void 0===r?P:r;return(0,l.useEffect)((function(){return e.contextMenu&&e.contextMenu.addItem(t,a,1),function(){e.contextMenu&&e.contextMenu.removeItem(t,a)}}),[e.contextMenu,e.text,e.onClick]),null};var L=l.forwardRef((function(e,n){var o=B(e).controlBarControl;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{controlBarControl:o})}),[o]),null})),U=["map","visiable"],N=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.visiable,r=(0,w.Z)(e,U),a=(0,l.useState)(),i=(0,M.Z)(a,2),u=i[0],c=i[1];return(0,l.useEffect)((function(){if(AMap&&o&&!u){var e=new AMap.Ellipse((0,h.Z)({},r));return o.add(e),c(e),function(){e&&(o&&o.removeLayer(e),c(void 0))}}}),[o]),C(u,t),Z(u,e,["Center","Radius","Options","ExtData"]),k(u,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{ellipse:u,setEllipse:c}},F=l.forwardRef((function(e,n){var o=N(e).ellipse;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{ellipse:o})})),null})),W=["map","type","onComplete","onError"],Q=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.type,r=void 0===t?"position":t,a=n.onComplete,i=n.onError,u=(0,w.Z)(e,W),c=(0,l.useState)(),s=(0,M.Z)(c,2),f=s[0],d=s[1];function p(e,n){"complete"===e&&a?a(n):i&&i(n)}return(0,l.useEffect)((function(){var e;if(AMap&&!f)return AMap.plugin(["AMap.Geolocation"],(function(){e=new AMap.Geolocation((0,h.Z)({},u)),d(e)})),function(){e&&d(void 0)}}),[AMap]),(0,l.useMemo)((function(){if(/^(position|cityInfo)$/.test(r)){var e="position"===r?"getCurrentPosition":"getCityInfo";f&&o?(f[e](p),o.addControl(f)):f&&f[e](p)}}),[f]),{geolocation:f,setGeolocation:d}},G=l.forwardRef((function(e,n){var o=Q(e).geolocation;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{geolocation:o})})),null})),V=["map","offset","visiable"];function $(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,M.Z)(n,2),t=o[0],r=o[1],a=e,i=a.map,u=a.offset,c=a.visiable,s=(0,w.Z)(e,V);return(0,l.useEffect)((function(){var e;if(i&&!t)return i.plugin(["AMap.HawkEye"],(function(){e=new AMap.HawkEye((0,h.Z)({offset:u},s)),i.addControl(e),r(e)})),function(){e&&i&&(i.removeLayer(e),r(void 0))}}),[i]),C(t,c),{hawkEyeControl:t,setHawkEyeControl:r}}var q=l.forwardRef((function(e,n){var o=$(e).hawkEyeControl;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{hawkEyeControl:o})}),[o]),null})),J=o(7510),K=["map","visiable","position"],X=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.visiable,r=n.position,a=(0,w.Z)(e,K),i=(0,l.useState)(t),u=(0,M.Z)(i,2),c=u[0],s=u[1],f=(0,l.useState)(),d=(0,M.Z)(f,2),p=d[0],v=d[1];return(0,l.useEffect)((function(){if(AMap&&o&&!p){var e=o.getCenter(),n=new AMap.InfoWindow((0,h.Z)({},a,{position:r||e}));return v(n),c&&n.open(o,r||e),function(){n&&(o&&o.remove(n),v(void 0))}}}),[o]),(0,l.useMemo)((function(){if(c!==t&&p&&o)if(s(t),t){var e=o.getCenter();p.open(o,r||e)}else p.close()}),[t,p]),(0,l.useEffect)((function(){if(o&&p&&t){var e=o.getCenter();p.open(o,r||e)}}),[r]),Z(p,e,["Content","Anchor","Size"]),k(p,e,["onOpen","onClose","onChange"]),{infoWindow:p,setInfoWindow:v}},Y=l.forwardRef((function(e,n){var o=e.children,t=(0,l.useMemo)((function(){return document.createElement("div")}),[]);(0,l.useEffect)((function(){return(0,J.render)((0,p.jsx)(l.Fragment,{children:o}),t)}),[o]);var r=X((0,h.Z)({},e,{content:o?t:e.content})).infoWindow;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{infoWindow:r})})),null})),ee=function(e){void 0===e&&(e={});var n=(0,h.Z)({},e),o=(0,l.useState)(),t=(0,M.Z)(o,2),r=t[0],a=t[1],i=(0,l.useState)(e.zoom||15),u=(0,M.Z)(i,2),c=u[0],s=u[1],f=(0,l.useState)(e.container),d=(0,M.Z)(f,2),p=d[0],v=d[1];return(0,l.useEffect)((function(){var e;return p&&!r&&AMap&&(e=new AMap.Map(p,(0,h.Z)({zoom:c},n)),a(e)),function(){e&&a(void 0)}}),[p]),(0,l.useMemo)((function(){r&&"number"===typeof e.zoom&&c!==e.zoom&&e.zoom>=2&&e.zoom<=20&&(s(e.zoom),r.setZoom(e.zoom))}),[c,e.zoom]),function(e,n,o){void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var t=o,r=(0,l.useState)(n[t]),a=(0,M.Z)(r,2),i=a[0],u=a[1];(0,l.useEffect)((function(){if(e&&void 0!==n[t]&&n[t]!==i){var o=e.getStatus();e.setStatus((0,h.Z)({},o,(0,g.Z)({},t,n[t]))),u(n[t])}}),[e,n[t]])}))}(r,e,["dragEnable","zoomEnable","jogEnable","pitchEnable","rotateEnable","animateEnable","keyboardEnable"]),Z(r,e,["Zoom","LabelzIndex","Layers","Center","City","Bounds","LimitBounds","Lang","Rotation","DefaultCursor","MapStyle","Features","DefaultLayer","Pitch"]),k(r,e,["onMouseMove","onZoomChange","onMapMove","onMouseWheel","onZoomStart","onMouseOver","onMouseOut","onDblClick","onClick","onZoomEnd","onMoveEnd","onMouseUp","onMouseDown","onRightClick","onMoveStart","onDragStart","onDragging","onDragEnd","onHotspotOut","onHotspotOver","onTouchStart","onComplete","onHotspotClick","onTouchMove","onTouchEnd","onResize"]),{map:r,setMap:a,container:p,setContainer:v}},ne=["className","style","children"],oe=(0,l.forwardRef)((function(e,n){var o=e.className,t=e.style,r=e.children,a=(0,w.Z)(e,ne),i=(0,l.useRef)(null),u=ee((0,h.Z)({container:i.current},a)),c=u.setContainer,s=u.container,f=u.map;(0,l.useEffect)((function(){return c(i.current)}),[i.current]),(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},a,{map:f,AMap:AMap,container:i.current})}),[f]);var d=l.Children.toArray(r);return(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)("div",{ref:i,className:o,style:(0,h.Z)({fontSize:1,height:"100%"},t)}),AMap&&f&&"function"===typeof r&&r({AMap:AMap,map:f,container:s}),AMap&&f&&d.map((function(e,n){return"string"===typeof e?(0,l.cloneElement)((0,p.jsx)(l.Fragment,{children:e}),{key:n}):(0,l.isValidElement)(e)?e.type&&"string"===typeof e.type?(0,l.cloneElement)(e,{key:n}):(0,l.cloneElement)(e,(0,h.Z)({},e.props,{AMap:AMap,map:f,container:s,key:n})):null}))]})})),te=["map","visiable","defaultType"];function re(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,M.Z)(n,2),t=o[0],r=o[1],a=e,i=a.map,u=a.visiable,c=a.defaultType,s=void 0===c?0:c,f=(0,w.Z)(e,te);return(0,l.useEffect)((function(){var e;if(i&&!t)return i.plugin(["AMap.MapType"],(function(){e=new AMap.MapType((0,h.Z)({defaultType:s},f)),i.addControl(e),r(e)})),function(){e&&i.removeControl(e)}}),[i]),C(t,u),{mapTypeControl:t,setMapTypeControl:r}}var ae=l.forwardRef((function(e,n){var o=re(e).mapTypeControl;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{mapTypeControl:o})}),[o]),null})),ie=["map","visiable"],ue=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.visiable,r=(0,w.Z)(e,ie),a=(0,l.useState)(),i=(0,M.Z)(a,2),u=i[0],c=i[1];return(0,l.useEffect)((function(){if(AMap&&o){if(!u){var e=new AMap.Marker((0,h.Z)({},r));o.add(e),c(e)}return function(){u&&(u.remove(),c(void 0))}}}),[u]),C(u,t),Z(u,e,["Path","Anchor","Offset","Animation","Clickable","Position","Angle","Label","zIndex","Icon","Draggable","Cursor","Content","Map","Title","Top","Shadow","Shape","ExtData"]),k(u,e,["onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragging","onDragEnd","onMoving","onMoveEnd","onMoveAlong","onTouchStart","onTouchMove","onTouchEnd"]),{marker:u,setMarker:c}},ce=["children","className","content"],se=(0,l.forwardRef)((function(e,n){var o=e.children,t=e.className,r=e.content,a=(0,w.Z)(e,ce),i=(0,l.useMemo)((function(){return document.createElement("div")}),[]);i.className=t||"",(0,l.useEffect)((function(){return(0,J.render)((0,p.jsx)(l.Fragment,{children:o}),i)}),[o]);var u=ue((0,h.Z)({},a,{content:o?i:r})).marker;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},a,{marker:u})}),[u]),null})),le=["map","visiable"],fe=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.visiable,r=(0,w.Z)(e,le)||{},a=r.opacity,i=void 0===a?.8:a,u=r.zIndex,c=void 0===u?1111:u,s=r.style,f=r.data,d=(0,l.useState)(),p=(0,M.Z)(d,2),v=p[0],m=p[1];return(0,l.useEffect)((function(){if(AMap&&o&&!v){var e=s;e||(e=[{url:"https://webapi.amap.com/images/mass/mass0.png",anchor:new AMap.Pixel(6,6),size:new AMap.Size(11,11),zIndex:3},{url:"https://webapi.amap.com/images/mass/mass1.png",anchor:new AMap.Pixel(4,4),size:new AMap.Size(7,7),zIndex:2},{url:"https://webapi.amap.com/images/mass/mass2.png",anchor:new AMap.Pixel(3,3),size:new AMap.Size(5,5),zIndex:1}]);var n=new AMap.MassMarks(f||[],{opacity:i,zIndex:c,style:e});return m(n),n.setMap(o),function(){n&&(n.clear(),m(void 0))}}}),[o]),C(v,t),Z(v,e,["Map","Data","Style","Opacity","zIndex","Zooms"]),k(v,e,["onClick","onDblClick","onMouseMove","onMouseOut","onMouseUp","onMouseDown","onMouseOver","onTouchStart","onTouchEnd"]),{massMarks:v,setMassMarks:m}},de=l.forwardRef((function(e,n){var o=fe(e).massMarks;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{massMarks:o})}),[o,e]),null})),pe=["map","visiable"],ve=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.visiable,r=(0,w.Z)(e,pe),a=(0,l.useState)(),i=(0,M.Z)(a,2),u=i[0],c=i[1];return(0,l.useEffect)((function(){if(AMap&&o&&!u){var e=new AMap.Polygon((0,h.Z)({},r));o.add(e),c(e)}}),[o]),C(u,t),Z(u,e,["ExtData","ExtData"]),k(u,e,["onClick","onDblClick","onRightClick","onHide","onShow","onMouseDown","onMouseUp","onMouseOver","onMouseOut","onChange","onTouchStart","onTouchMove","onTouchEnd"]),{polygon:u,setPolygon:c}},me=(0,l.forwardRef)((function(e,n){var o=e.children,t=ve(e).polygon;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{polygon:t})})),o&&(0,l.isValidElement)(o)?(0,l.cloneElement)(o,(0,h.Z)({},e,{polygon:t})):null})),he=(0,l.forwardRef)((function(e,n){var o=e.active,t=e.map,r=e.polygon,a=(0,l.useState)(!0),i=(0,M.Z)(a,2),u=i[0],c=i[1],s=(0,l.useState)(),f=(0,M.Z)(s,2),d=f[0],p=f[1];return(0,l.useEffect)((function(){if(r&&t&&!d&&AMap&&AMap.PolygonEditor){var e=new AMap.PolygonEditor(t,r);r.on("hide",(function(){return c(!1)})),r.on("show",(function(){return c(!0)})),p(e)}}),[r]),(0,l.useEffect)((function(){d&&(u&&!o?d.close():u&&o?d.open():!u&&o&&d.close())}),[o,u]),k(d,e,["onEnd","onAddnode","onAdjust","onMove","onAdd"]),null})),Me=["map","visiable"];function we(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,M.Z)(n,2),t=o[0],r=o[1],a=e,i=a.map,u=a.visiable,c=(0,w.Z)(e,Me);return(0,l.useEffect)((function(){if(i&&!t){var e=new AMap.Polyline((0,h.Z)({},c));return i.add(e),r(e),function(){e&&(i&&i.removeLayer(e),r(void 0))}}}),[i]),C(t,u),Z(t,e,["Path","Options","Map","ExtData"]),k(t,e,["onHide","onShow","onMouseOut","onChange","onRightClick","onDblClick","onMouseDown","onClick","onMouseOver","onTouchEnd","onTouchMove","onTouchStart","onMouseUp"]),{polyline:t,setPolyline:r}}var ge=l.forwardRef((function(e,n){var o=we(e).polyline;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{polyline:o})}),[o]),null})),Ce=["map","visiable"],ke=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.visiable,r=(0,w.Z)(e,Ce),a=(0,l.useState)(),i=(0,M.Z)(a,2),u=i[0],c=i[1];return(0,l.useEffect)((function(){if(AMap&&o&&!u){var e=new AMap.Rectangle((0,h.Z)({},r));return o.add(e),c(e),function(){e&&(o&&o.removeLayer(e),c(void 0))}}}),[o]),C(u,t),Z(u,e,["Bounds","Options","Map","ExtData"]),k(u,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{rectangle:u,setRectangle:c}},Ze=l.forwardRef((function(e,n){var o=ke(e).rectangle;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{rectangle:o})})),null}));function be(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,M.Z)(n,2),t=o[0],r=o[1],a=e,i=a.map,u=a.position,c=a.visiable,s=a.offset;return(0,l.useEffect)((function(){var e;if(i&&!t)return i.plugin(["AMap.Scale"],(function(){e=new AMap.Scale({offset:s,position:u}),i.addControl(e),r(e)})),function(){e&&i.removeControl(e)}}),[i]),C(t,c),{scaleControl:t,setScaleControl:r}}var Ee=l.forwardRef((function(e,n){var o=be(e).scaleControl;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{scaleControl:o})}),[o]),null})),ye=["map","visiable"],Se=function(e){void 0===e&&(e={});var n=e,o=n.map,t=n.visiable,r=(0,w.Z)(e,ye),a=(0,l.useState)(),i=(0,M.Z)(a,2),u=i[0],c=i[1];return(0,l.useEffect)((function(){if(AMap&&o&&!u){var e=new AMap.Text((0,h.Z)({},r));return o.add(e),c(e),function(){e&&(e.remove(),c(void 0))}}}),[o]),C(u,t),Z(u,e,["Style","Title","Clickable","Draggable","Map","Position","Offset","Angle","zIndex","Top","Cursor","ExtData"]),k(u,e,["onMoving","onTouchMove","onTouchEnd","onMoveaLong","onTouchStart","onMoveEnd","onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragEnd","onDragging"]),{text:u,setText:c}},xe=(0,l.forwardRef)((function(e,n){var o=Se(e).text;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{text:o})})),null}));function Ae(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,M.Z)(n,2),t=o[0],r=o[1],a=e,i=a.map,u=a.position,c=a.visiable,s=a.offset;return(0,l.useEffect)((function(){var e;if(i&&!t)return i.plugin(["AMap.ToolBar"],(function(){e=new AMap.ToolBar({offset:s,position:u}),i.addControl(e),r(e)})),function(){e&&i.removeControl(e)}}),[i]),C(t,c),{toolBarControl:t,setToolBarControl:r}}var Te=l.forwardRef((function(e,n){var o=Ae(e).toolBarControl;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{toolBarControl:o})}),[o]),null})),De=function(e){void 0===e&&(e={});var n=e,o=n.city,t=void 0===o?"":o,r=n.type,a=void 0===r?"live":r,i=n.onComplete,u=n.onError,c=(0,l.useState)(),s=(0,M.Z)(c,2),f=s[0],d=s[1],p="live"===a?"getLive":"getForecast";return(0,l.useEffect)((function(){var e;if(AMap&&!f)return AMap.plugin(["AMap.Weather"],(function(){e=new AMap.Weather,d(e)})),function(){e&&d(void 0)}}),[]),(0,l.useMemo)((function(){var e;f&&t&&a&&(e=f,a&&t&&/^(live|forecast)$/.test(a)&&e[p](t,(function(e,n){e&&u?u(e):n&&i&&i(n)})))}),[f,t,a]),{weather:f,setWeather:d}},Re=l.forwardRef((function(e,n){var o=De(e).weather;return(0,l.useImperativeHandle)(n,(function(){return(0,h.Z)({},e,{weather:o})})),null}))}}]);
//# sourceMappingURL=1174.8b2b44c8.chunk.js.map