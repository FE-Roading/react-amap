(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[13],{173:function(e,n,t){e.exports={footer:"index_footer__DaBIU"}},174:function(e,n,t){e.exports={markdown:"index_markdown__1tMoQ"}},246:function(e,n){},258:function(e,n){},269:function(e,n){function t(e,n,t,o,r,a,i){try{var c=e[a](i),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(o,r)}e.exports=function(e){return function(){var n=this,o=arguments;return new Promise((function(r,a){var i=e.apply(n,o);function c(e){t(i,r,a,c,u,"next",e)}function u(e){t(i,r,a,c,u,"throw",e)}c(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},93:function(e,n,t){"use strict";t.d(n,"a",(function(){return C}));var o=t(8),r=t(30),a=t(68),i=t(76),c=t(70),u=t(71),s=t(0),l=t.n(s),f=t(175),d=t(264),p=t(263),v=t(1),b=["language","dependencies","codePen"];function m(e){e.language;var n=e.dependencies,t=e.codePen,a=Object(r.a)(e,b),i=Object(o.a)({},a);return t&&(i.codeSandboxOption={files:{"sandbox.config.json":{content:'{\n        "template": "node",\n        "container": {\n          "startScript": "start",\n          "node": "14"\n        }\n      }'},"public/index.html":{content:'<div id="container"></div>'},"src/index.js":{content:i.code.replace("_mount_",'document.getElementById("container")')},".kktrc.js":{content:'import webpack from "webpack";\nimport lessModules from "@kkt/less-modules";\nexport default (conf, env, options) => {\nconf = lessModules(conf, env, options);\nreturn conf;\n};'},"package.json":{content:{name:"react-amap-demo",description:"\u767e\u5ea6\u5730\u56fe React \u7ec4\u4ef6 - demo",dependencies:{react:"latest","react-dom":"latest","@uiw/react-amap":"latest"},devDependencies:{"@kkt/less-modules":"6.11.0",kkt:"6.11.0",typescript:"4.1.3"},license:"MIT",scripts:{start:"kkt start",build:"kkt build",test:"kkt test --env=jsdom"},browserslist:[">0.2%","not dead","not ie <= 11","not op_mini all"]}}}}),Object(v.jsx)(p.a,Object(o.a)(Object(o.a)({},i),{},{dependencies:Object(o.a)(Object(o.a)({},n),{},{React:l.a},l.a),style:{marginBottom:0}}))}var M=t(173),O=t.n(M),j=function(e){var n=(e||{}).editorUrl;return Object(v.jsxs)("div",{className:O.a.footer,children:[n&&Object(v.jsx)("a",{title:"Editor Current Page",target:"_blank",rel:"noreferrer",href:"https://github.com/uiwjs/react-amap/edit/master".concat(n),children:"\u7f16\u8f91\u5f53\u524d\u9875\u9762"}),Object(v.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/uiwjs/react-amap/issues/new",children:"\u63d0\u4ea4 Bug"}),Object(v.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/uiwjs/react-amap",children:"GitHub"}),Object(v.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/kktjs/kkt",children:"kkt"}),Object(v.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/uiwjs/uiw",children:"uiwjs"}),Object(v.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/uiwjs/react-baidu-map",children:"\u767e\u5ea6\u5730\u56fe React \u7248\u672c"})]})},h=t(174),w=t.n(h),g=["inline","node"],k=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.forEach((function(n){"text"===n.type?t+=n.value:n.children&&Array.isArray(n.children)&&(t+=e(n.children))})),t},C=function(e){Object(c.a)(t,e);var n=Object(u.a)(t);function t(e){var o;return Object(a.a)(this,t),(o=n.call(this,e)).editorUrl=void 0,o.getMdStr=void 0,o.dependencies=void 0,o.state={mdStr:""},o}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getMdStr&&this.getMdStr().then((function(n){e.setState({mdStr:n.default||n})}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(s.Fragment,{children:[Object(v.jsx)(f.a,{style:{padding:"20px 26px"},source:this.state.mdStr,className:w.a.markdown,rehypePlugins:[[d.a,{properties:"attr"}]],components:{code:function(n){var t=n.inline,a=n.node,i=Object(r.a)(n,g),c=i,u=c.noPreview,s=c.noScroll,l=c.bgWhite,f=c.noCode,d=c.codePen;if(t)return Object(v.jsx)("code",Object(o.a)({},i));var p={noPreview:u,noScroll:s,bgWhite:l,noCode:f,codePen:d};return 0===Object.keys(p).filter((function(e){return void 0!==p[e]})).length?Object(v.jsx)("code",Object(o.a)({},i)):Object(v.jsx)(m,{code:k(a.children),dependencies:e.dependencies,language:(i.className||"").replace(/^language-/,""),noPreview:u,noScroll:s,bgWhite:l,noCode:f,codePen:d})}}}),Object(v.jsx)(j,{editorUrl:this.editorUrl})]})}}]),t}(s.Component)},94:function(e,n,t){"use strict";t.d(n,"a",(function(){return M})),t.d(n,"y",(function(){return S})),t.d(n,"b",(function(){return x})),t.d(n,"z",(function(){return D})),t.d(n,"c",(function(){return R})),t.d(n,"A",(function(){return H})),t.d(n,"d",(function(){return z})),t.d(n,"B",(function(){return B})),t.d(n,"e",(function(){return _})),t.d(n,"C",(function(){return U})),t.d(n,"f",(function(){return N})),t.d(n,"D",(function(){return F})),t.d(n,"g",(function(){return Q})),t.d(n,"E",(function(){return G})),t.d(n,"h",(function(){return J})),t.d(n,"F",(function(){return q})),t.d(n,"i",(function(){return $})),t.d(n,"G",(function(){return X})),t.d(n,"j",(function(){return Y})),t.d(n,"H",(function(){return ne})),t.d(n,"k",(function(){return te})),t.d(n,"I",(function(){return oe})),t.d(n,"l",(function(){return ae})),t.d(n,"J",(function(){return ce})),t.d(n,"m",(function(){return ue})),t.d(n,"K",(function(){return le})),t.d(n,"n",(function(){return fe})),t.d(n,"L",(function(){return pe})),t.d(n,"o",(function(){return ve})),t.d(n,"M",(function(){return me})),t.d(n,"p",(function(){return Me})),t.d(n,"q",(function(){return Oe})),t.d(n,"N",(function(){return he})),t.d(n,"r",(function(){return we})),t.d(n,"O",(function(){return ke})),t.d(n,"s",(function(){return Ce})),t.d(n,"x",(function(){return v})),t.d(n,"P",(function(){return ye})),t.d(n,"t",(function(){return Ee})),t.d(n,"Q",(function(){return Se})),t.d(n,"u",(function(){return xe})),t.d(n,"R",(function(){return Te})),t.d(n,"v",(function(){return De})),t.d(n,"S",(function(){return Re})),t.d(n,"w",(function(){return Ie}));var o=t(78),r=t.n(o),a=t(68),i=t(76),c=t(70),u=t(71),s=t(269),l=t.n(s),f=t(0),d=t.n(f),p={};function v(e,n){void 0===n&&(n="_react_amap");var t=document&&(document.head||document.getElementsByTagName("head")[0]);return new Promise((function(o,r){if(document&&!(e in p)){var a=document.createElement("script");a.type="text/javascript",a.id=n,a.async=!0,a.defer=!0,a.src=e,a.onerror=function(n){t.removeChild(a),r(new URIError("The Script "+e+" is no accessible."))},a.onload=function(){p[e]=!0,o()},t.appendChild(a)}else o()}))}var b=t(1);function m(e){return new Promise((function(n,t){window.setTimeout(n,e)}))}var M=function(e){Object(c.a)(t,e);var n=Object(u.a)(t);function t(e){var o;if(Object(a.a)(this,t),(o=n.call(this,e)).state={loaded:!!window.AMap},o.handleError=function(e){o.setState({error:e})},o.finish=function(){o.setState({loaded:!0})},null===e.akay)throw new TypeError("AMap: akay is required");return o}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.callbackName;if(null==window.AMap){if(window[e])return void t.waitQueue.push([this.finish,this.handleError]);this.loadMap()}}},{key:"render",value:function(){return this.state.loaded?this.props.children:this.props.fallback?this.props.fallback(this.state.error):this.state.error?Object(b.jsx)("div",{style:{color:"red"},children:this.state.error.message}):null}},{key:"getScriptSrc",value:function(){var e=this.props,n=e.protocol||window.location.protocol;-1===n.indexOf(":")&&(n+=":");var t="";return e.plugin&&(t="&plugin="+e.plugin),n+"//"+e.hostAndPath+"?v="+e.version+"&key="+e.akay+"&callback="+e.callbackName+t}},{key:"loadMap",value:function(){var e=this;return l()(r.a.mark((function n(){var o,a,i,c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=e.props.callbackName,a=e.getScriptSrc(),window[o]=function(){var n=t.waitQueue;t.waitQueue=[],n.forEach((function(e){return e[0]()})),e.finish()},i=0;case 4:if(!(i<3)){n.next=22;break}return n.prev=5,n.next=8,v(a);case 8:return n.abrupt("break",22);case 11:if(n.prev=11,n.t0=n.catch(5),2!==i){n.next=17;break}if("object"!==typeof(c=function(){var o=new Error("Failed to load AMap: "+n.t0.message),r=t.waitQueue;return t.waitQueue=[],r.forEach((function(e){return e[1](o)})),e.handleError(o),{v:void 0}}())){n.next=17;break}return n.abrupt("return",c.v);case 17:return n.next=19,m(1e3*i);case 19:i++,n.next=4;break;case 22:case"end":return n.stop()}}),n,null,[[5,11]])})))()}}]),t}(f.Component);M.defaultProps={akay:"",hostAndPath:"webapi.amap.com/maps",version:"2.0",callbackName:"load_amap_sdk",plugin:""},M.waitQueue=[];var O=t(12),j=t.n(O),h=t(74),w=t(16),g=t.n(w),k=t(28);function C(e,n){var t=Object(f.useState)(n),o=Object(h.a)(t,2),r=o[0],a=o[1];Object(f.useEffect)((function(){e&&void 0!==n&&(n?e.show&&e.show():e.hide&&e.hide(),n!==r&&a(n))}),[e,n])}function y(e,n,t,o){void 0===n&&(n={}),void 0===t&&(t=[]),t.forEach((function(t){var o=t,r=n[o];Object(f.useEffect)((function(){if(e){var n=t.toLocaleLowerCase().replace(/^on/,"");return r&&n&&e.on(n,r),function(){n&&r&&e.off(n,r)}}}),[e,n[o]])}))}function E(e,n,t){void 0===e&&(e={}),void 0===n&&(n={}),void 0===t&&(t=[]),t.forEach((function(t){var o="set"+t,r=""+t.charAt(0).toLowerCase()+t.slice(1),a=Object(f.useState)(n[r]),i=Object(h.a)(a,2),c=i[0],u=i[1];Object(f.useEffect)((function(){e&&void 0!==n[r]&&n[r]!==c&&e[o]&&"function"===typeof e[o]&&(e[o](n[r]),u(n[r]))}),[e,n[r]])}))}var A=["map"],S=function(e){void 0===e&&(e={});var n=g()(e,A),t=Object(f.useState)(),o=Object(h.a)(t,2),r=o[0],a=o[1];return Object(f.useEffect)((function(){var e;if(AMap&&!r)return AMap.plugin(["AMap.AutoComplete"],(function(){e=new AMap.AutoComplete(j()({},n)),a(e)})),function(){e&&a(void 0)}}),[]),E(r,e,["Type","City","CityLimit"]),y(r,e,["onChoose","onSelect"]),{autoComplete:r,setAutoComplete:a}},x=d.a.forwardRef((function(e,n){var t=S(e).autoComplete;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{autoComplete:t})})),null})),T=["map","visiable"],D=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.visiable,r=g()(e,T),a=Object(f.useState)(),i=Object(h.a)(a,2),c=i[0],u=i[1];return Object(f.useEffect)((function(){if(AMap&&t&&!c){var e=new AMap.BezierCurve(j()({},r));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),C(c,o),E(c,e,["Options","Path","ExtData","ExtData"]),y(c,e,["onHide","onShow","onDblClick","onMouseOver","onMouseUp","onMouseDown","onclick","onTouchEnd","onTouchMove","onTouchStart","onRightClick","onMouseOut"]),{bezierCurve:c,setBezierCurve:u}},R=d.a.forwardRef((function(e,n){var t=D(e).bezierCurve;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{bezierCurve:t})})),null})),I=["map","visiable"],H=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.visiable,r=g()(e,I),a=Object(f.useState)(),i=Object(h.a)(a,2),c=i[0],u=i[1];return Object(f.useEffect)((function(){if(AMap&&t&&!c){var e=new AMap.Circle(j()({},r));t.add(e),u(e)}return function(){c&&(t&&t.remove(c),u(void 0))}}),[t]),C(c,o),E(c,e,["Center","Raius","Options","ExtData"]),y(c,e,["onHide","onShow","onRightClick","onClick","onTouchEnd","onDblClick","onTouchMove","onTouchStart","onMouseOut","onMouseOver","onMouseUp","onMouseDown"]),{circle:c,setCircle:u}},z=d.a.forwardRef((function(e,n){var t=H(e).circle;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{circle:t})})),null})),P=["map","visiable"],B=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.visiable,r=g()(e,P),a=Object(f.useState)(),i=Object(h.a)(a,2),c=i[0],u=i[1];return Object(f.useEffect)((function(){if(AMap&&t&&!c){var e=new AMap.CircleMarker(j()({},r));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),C(c,o),E(c,e,["Center","Raius","zIndex","Bubble","Cursor","StrokeColor","StrokeOpacity","StrokeWeight","FillColor","FillOpacity","Draggable","ExtData"]),y(c,e,["onHide","onShow","onMouseover","onTouchend","onClick","onTouchmove","onRightclick","onMouseup","onMouseout","onTouchstart","onMousedown","onDblclick"]),{circleMarker:c,setCircleMarker:u}},_=d.a.forwardRef((function(e,n){var t=B(e).circleMarker;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{circleMarker:t})})),null})),L=["map","position"],U=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.position,r=g()(e,L),a=Object(f.useState)(),i=Object(h.a)(a,2),c=i[0],u=i[1];return Object(f.useEffect)((function(){if(AMap&&t&&!c){var e=new AMap.ContextMenu(j()({},r));u(e);var n=function(n){return e.open(t,o||n.lnglat)};return t.on("rightclick",n),function(){e&&(t.off("rightclick",n),t&&t.removeLayer(e),u(void 0))}}}),[t]),y(c,e,["onOpen","onClose"]),{contextMenu:c,setContextMenu:u}},W=function(){},N=d.a.forwardRef((function(e,n){var t=U(e).contextMenu;Object(f.useImperativeHandle)(n,(function(){return j()({},e,{contextMenu:t})}));var o=d.a.Children.toArray(e.children);return Object(b.jsx)(f.Fragment,{children:AMap&&t&&o.map((function(n,o){return d.a.isValidElement(n)?d.a.cloneElement(n,j()({},n.props,{AMap:AMap,map:e.map,contextMenu:t,key:o})):null}))})}));function F(e){void 0===e&&(e={});var n=Object(f.useState)(),t=Object(h.a)(n,2),o=t[0],r=t[1],a=e,i=a.map,c=a.position,u=a.visiable,s=a.offset;return Object(f.useEffect)((function(){var e;if(i&&!o)return i.plugin(["AMap.ControlBar","AMap.HawkEye"],(function(){e=new AMap.ControlBar({offset:s,position:c}),i.addControl(e),r(e)})),function(){e&&i.removeControl(e)}}),[i]),C(o,u),{controlBarControl:o,setControlBarControl:r}}N.Item=function(e){void 0===e&&(e={});var n=e,t=n.text,o=void 0===t?"":t,r=n.onClick,a=void 0===r?W:r;return Object(f.useEffect)((function(){return e.contextMenu&&e.contextMenu.addItem(o,a,1),function(){e.contextMenu&&e.contextMenu.removeItem(o,a)}}),[e.contextMenu,e.text,e.onClick]),null};var Q=d.a.forwardRef((function(e,n){var t=F(e).controlBarControl;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{controlBarControl:t})}),[t]),null})),Z=["map","visiable"],G=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.visiable,r=g()(e,Z),a=Object(f.useState)(),i=Object(h.a)(a,2),c=i[0],u=i[1];return Object(f.useEffect)((function(){if(AMap&&t&&!c){var e=new AMap.Ellipse(j()({},r));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),C(c,o),E(c,e,["Center","Radius","Options","ExtData"]),y(c,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{ellipse:c,setEllipse:u}},J=d.a.forwardRef((function(e,n){var t=G(e).ellipse;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{ellipse:t})})),null})),V=["map","type","onComplete","onError"],q=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.type,r=void 0===o?"position":o,a=n.onComplete,i=n.onError,c=g()(e,V),u=Object(f.useState)(),s=Object(h.a)(u,2),l=s[0],d=s[1];function p(e,n){"complete"===e&&a?a(n):i&&i(n)}return Object(f.useEffect)((function(){var e;if(AMap&&!l)return AMap.plugin(["AMap.Geolocation"],(function(){e=new AMap.Geolocation(j()({},c)),d(e)})),function(){e&&d(void 0)}}),[AMap]),Object(f.useMemo)((function(){if(/^(position|cityInfo)$/.test(r)){var e="position"===r?"getCurrentPosition":"getCityInfo";l&&t?(l[e](p),t.addControl(l)):l&&l[e](p)}}),[l]),{geolocation:l,setGeolocation:d}},$=d.a.forwardRef((function(e,n){var t=q(e).geolocation;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{geolocation:t})})),null})),K=["map","offset","visiable"];function X(e){void 0===e&&(e={});var n=Object(f.useState)(),t=Object(h.a)(n,2),o=t[0],r=t[1],a=e,i=a.map,c=a.offset,u=a.visiable,s=g()(e,K);return Object(f.useEffect)((function(){var e;if(i&&!o)return i.plugin(["AMap.HawkEye"],(function(){e=new AMap.HawkEye(j()({offset:c},s)),i.addControl(e),r(e)})),function(){e&&i&&(i.removeLayer(e),r(void 0))}}),[i]),C(o,u),{hawkEyeControl:o,setHawkEyeControl:r}}var Y=d.a.forwardRef((function(e,n){var t=X(e).hawkEyeControl;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{hawkEyeControl:t})}),[t]),null})),ee=["map","visiable","position"],ne=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.visiable,r=n.position,a=g()(e,ee),i=Object(f.useState)(o),c=Object(h.a)(i,2),u=c[0],s=c[1],l=Object(f.useState)(),d=Object(h.a)(l,2),p=d[0],v=d[1];return Object(f.useEffect)((function(){if(AMap&&t&&!p){var e=t.getCenter(),n=new AMap.InfoWindow(j()({},a,{position:r||e}));return v(n),u&&n.open(t,r||e),function(){n&&(t&&t.remove(n),v(void 0))}}}),[t]),Object(f.useMemo)((function(){if(u!==o&&p&&t)if(s(o),o){var e=t.getCenter();p.open(t,r||e)}else p.close()}),[o,p]),Object(f.useEffect)((function(){if(t&&p&&o){var e=t.getCenter();p.open(t,r||e)}}),[r]),E(p,e,["Content","Anchor","Size"]),y(p,e,["onOpen","onClose","onChange"]),{infoWindow:p,setInfoWindow:v}},te=d.a.forwardRef((function(e,n){var t=ne(e).infoWindow;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{infoWindow:t})})),null})),oe=function(e){void 0===e&&(e={});var n=j()({},e),t=Object(f.useState)(),o=Object(h.a)(t,2),r=o[0],a=o[1],i=Object(f.useState)(e.zoom||15),c=Object(h.a)(i,2),u=c[0],s=c[1],l=Object(f.useState)(e.container),d=Object(h.a)(l,2),p=d[0],v=d[1];return Object(f.useEffect)((function(){var e;return p&&!r&&AMap&&(e=new AMap.Map(p,j()({zoom:u},n)),a(e)),function(){e&&a(void 0)}}),[p]),Object(f.useMemo)((function(){r&&"number"===typeof e.zoom&&u!==e.zoom&&e.zoom>=2&&e.zoom<=20&&(s(e.zoom),r.setZoom(e.zoom))}),[u,e.zoom]),function(e,n,t){void 0===n&&(n={}),void 0===t&&(t=[]),t.forEach((function(t){var o=t,r=Object(f.useState)(n[o]),a=Object(h.a)(r,2),i=a[0],c=a[1];Object(f.useEffect)((function(){if(e&&void 0!==n[o]&&n[o]!==i){var t=e.getStatus();e.setStatus(j()({},t,Object(k.a)({},o,n[o]))),c(n[o])}}),[e,n[o]])}))}(r,e,["dragEnable","zoomEnable","jogEnable","pitchEnable","rotateEnable","animateEnable","keyboardEnable"]),E(r,e,["Zoom","LabelzIndex","Layers","Center","City","Bounds","LimitBounds","Lang","Rotation","DefaultCursor","MapStyle","Features","DefaultLayer","Pitch"]),y(r,e,["onMouseMove","onZoomChange","onMapMove","onMouseWheel","onZoomStart","onMouseOver","onMouseOut","onDblClick","onClick","onZoomEnd","onMoveEnd","onMouseUp","onMouseDown","onRightClick","onMoveStart","onDragStart","onDragging","onDragEnd","onHotspotOut","onHotspotOver","onTouchStart","onComplete","onHotspotClick","onTouchMove","onTouchEnd","onResize"]),{map:r,setMap:a,container:p,setContainer:v}},re=["className","style","children"],ae=Object(f.forwardRef)((function(e,n){var t=e.className,o=e.style,r=e.children,a=g()(e,re),i=Object(f.useRef)(null),c=oe(j()({container:i.current},a)),u=c.setContainer,s=c.container,l=c.map;Object(f.useEffect)((function(){return u(i.current)}),[i.current]),Object(f.useImperativeHandle)(n,(function(){return j()({},a,{map:l,AMap:AMap,container:i.current})}),[l]);var d=f.Children.toArray(r);return Object(b.jsxs)(f.Fragment,{children:[Object(b.jsx)("div",{ref:i,className:t,style:j()({fontSize:1,height:"100%"},o)}),AMap&&l&&"function"===typeof r&&r({AMap:AMap,map:l,container:s}),AMap&&l&&d.map((function(e,n){return"string"===typeof e?Object(f.cloneElement)(Object(b.jsx)(f.Fragment,{children:e}),{key:n}):Object(f.isValidElement)(e)?e.type&&"string"===typeof e.type?Object(f.cloneElement)(e,{key:n}):Object(f.cloneElement)(e,j()({},e.props,{AMap:AMap,map:l,container:s,key:n})):null}))]})})),ie=["map","visiable","defaultType"];function ce(e){void 0===e&&(e={});var n=Object(f.useState)(),t=Object(h.a)(n,2),o=t[0],r=t[1],a=e,i=a.map,c=a.visiable,u=a.defaultType,s=void 0===u?0:u,l=g()(e,ie);return Object(f.useEffect)((function(){var e;if(i&&!o)return i.plugin(["AMap.MapType"],(function(){e=new AMap.MapType(j()({defaultType:s},l)),i.addControl(e),r(e)})),function(){e&&i.removeControl(e)}}),[i]),C(o,c),{mapTypeControl:o,setMapTypeControl:r}}var ue=d.a.forwardRef((function(e,n){var t=ce(e).mapTypeControl;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{mapTypeControl:t})}),[t]),null})),se=["map","visiable"],le=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.visiable,r=g()(e,se),a=Object(f.useState)(),i=Object(h.a)(a,2),c=i[0],u=i[1];return Object(f.useEffect)((function(){if(AMap&&t&&!c){var e=new AMap.Marker(j()({},r));return t.add(e),u(e),function(){e&&(e.remove(),u(void 0))}}}),[t]),C(c,o),E(c,e,["Path","Anchor","Offset","Animation","Clickable","Position","Angle","Label","zIndex","Icon","Draggable","Cursor","Content","Map","Title","Top","Shadow","Shape","ExtData"]),y(c,e,["onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragging","onDragEnd","onMoving","onMoveEnd","onMoveAlong","onTouchStart","onTouchMove","onTouchEnd"]),{marker:c,setMarker:u}},fe=d.a.forwardRef((function(e,n){var t=le(e).marker;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{marker:t})})),null})),de=["map","visiable"],pe=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.visiable,r=g()(e,de)||{},a=r.opacity,i=void 0===a?.8:a,c=r.zIndex,u=void 0===c?1111:c,s=r.style,l=r.data,d=Object(f.useState)(),p=Object(h.a)(d,2),v=p[0],b=p[1];return Object(f.useEffect)((function(){if(AMap&&t&&!v){var e=s;e||(e=[{url:"https://webapi.amap.com/images/mass/mass0.png",anchor:new AMap.Pixel(6,6),size:new AMap.Size(11,11),zIndex:3},{url:"https://webapi.amap.com/images/mass/mass1.png",anchor:new AMap.Pixel(4,4),size:new AMap.Size(7,7),zIndex:2},{url:"https://webapi.amap.com/images/mass/mass2.png",anchor:new AMap.Pixel(3,3),size:new AMap.Size(5,5),zIndex:1}]);var n=new AMap.MassMarks(l||[],{opacity:i,zIndex:u,style:e});return b(n),n.setMap(t),function(){n&&(n.clear(),b(void 0))}}}),[t]),C(v,o),E(v,e,["Map","Data","Style","Opacity","zIndex","Zooms"]),y(v,e,["onClick","onDblClick","onMouseMove","onMouseOut","onMouseUp","onMouseDown","onMouseOver","onTouchStart","onTouchEnd"]),{massMarks:v,setMassMarks:b}},ve=d.a.forwardRef((function(e,n){var t=pe(e).massMarks;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{massMarks:t})}),[t,e]),null})),be=["map","visiable"],me=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.visiable,r=g()(e,be),a=Object(f.useState)(),i=Object(h.a)(a,2),c=i[0],u=i[1];return Object(f.useEffect)((function(){if(AMap&&t&&!c){var e=new AMap.Polygon(j()({},r));t.add(e),u(e)}}),[t]),C(c,o),E(c,e,["ExtData","ExtData"]),y(c,e,["onClick","onDblClick","onRightClick","onHide","onShow","onMouseDown","onMouseUp","onMouseOver","onMouseOut","onChange","onTouchStart","onTouchMove","onTouchEnd"]),{polygon:c,setPolygon:u}},Me=Object(f.forwardRef)((function(e,n){var t=e.children,o=me(e).polygon;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{polygon:o})})),t&&Object(f.isValidElement)(t)?Object(f.cloneElement)(t,j()({},e,{polygon:o})):null})),Oe=Object(f.forwardRef)((function(e,n){var t=e.active,o=e.map,r=e.polygon,a=Object(f.useState)(!0),i=Object(h.a)(a,2),c=i[0],u=i[1],s=Object(f.useState)(),l=Object(h.a)(s,2),d=l[0],p=l[1];return Object(f.useEffect)((function(){if(r&&o&&!d&&AMap&&AMap.PolygonEditor){var e=new AMap.PolygonEditor(o,r);r.on("hide",(function(){return u(!1)})),r.on("show",(function(){return u(!0)})),p(e)}}),[r]),Object(f.useEffect)((function(){d&&(c&&!t?d.close():c&&t?d.open():!c&&t&&d.close())}),[t,c]),y(d,e,["onEnd","onAddnode","onAdjust","onMove","onAdd"]),null})),je=["map","visiable"];function he(e){void 0===e&&(e={});var n=Object(f.useState)(),t=Object(h.a)(n,2),o=t[0],r=t[1],a=e,i=a.map,c=a.visiable,u=g()(e,je);return Object(f.useEffect)((function(){if(i&&!o){var e=new AMap.Polyline(j()({},u));return i.add(e),r(e),function(){e&&(i&&i.removeLayer(e),r(void 0))}}}),[i]),C(o,c),E(o,e,["Path","Options","Map","ExtData"]),y(o,e,["onHide","onShow","onMouseOut","onChange","onRightClick","onDblClick","onMouseDown","onClick","onMouseOver","onTouchEnd","onTouchMove","onTouchStart","onMouseUp"]),{polyline:o,setPolyline:r}}var we=d.a.forwardRef((function(e,n){var t=he(e).polyline;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{polyline:t})}),[t]),null})),ge=["map","visiable"],ke=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.visiable,r=g()(e,ge),a=Object(f.useState)(),i=Object(h.a)(a,2),c=i[0],u=i[1];return Object(f.useEffect)((function(){if(AMap&&t&&!c){var e=new AMap.Rectangle(j()({},r));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),C(c,o),E(c,e,["Bounds","Options","Map","ExtData"]),y(c,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{rectangle:c,setRectangle:u}},Ce=d.a.forwardRef((function(e,n){var t=ke(e).rectangle;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{rectangle:t})})),null}));function ye(e){void 0===e&&(e={});var n=Object(f.useState)(),t=Object(h.a)(n,2),o=t[0],r=t[1],a=e,i=a.map,c=a.position,u=a.visiable,s=a.offset;return Object(f.useEffect)((function(){var e;if(i&&!o)return i.plugin(["AMap.Scale"],(function(){e=new AMap.Scale({offset:s,position:c}),i.addControl(e),r(e)})),function(){e&&i.removeControl(e)}}),[i]),C(o,u),{scaleControl:o,setScaleControl:r}}var Ee=d.a.forwardRef((function(e,n){var t=ye(e).scaleControl;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{scaleControl:t})}),[t]),null})),Ae=["map","visiable"],Se=function(e){void 0===e&&(e={});var n=e,t=n.map,o=n.visiable,r=g()(e,Ae),a=Object(f.useState)(),i=Object(h.a)(a,2),c=i[0],u=i[1];return Object(f.useEffect)((function(){if(AMap&&t&&!c){var e=new AMap.Text(j()({},r));return t.add(e),u(e),function(){e&&(e.remove(),u(void 0))}}}),[t]),C(c,o),E(c,e,["Style","Title","Clickable","Draggable","Map","Position","Offset","Angle","zIndex","Top","Cursor","ExtData"]),y(c,e,["onMoving","onTouchMove","onTouchEnd","onMoveaLong","onTouchStart","onMoveEnd","onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragEnd","onDragging"]),{text:c,setText:u}},xe=Object(f.forwardRef)((function(e,n){var t=Se(e).text;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{text:t})})),null}));function Te(e){void 0===e&&(e={});var n=Object(f.useState)(),t=Object(h.a)(n,2),o=t[0],r=t[1],a=e,i=a.map,c=a.position,u=a.visiable,s=a.offset;return Object(f.useEffect)((function(){var e;if(i&&!o)return i.plugin(["AMap.ToolBar"],(function(){e=new AMap.ToolBar({offset:s,position:c}),i.addControl(e),r(e)})),function(){e&&i.removeControl(e)}}),[i]),C(o,u),{toolBarControl:o,setToolBarControl:r}}var De=d.a.forwardRef((function(e,n){var t=Te(e).toolBarControl;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{toolBarControl:t})}),[t]),null})),Re=function(e){void 0===e&&(e={});var n=e,t=n.city,o=void 0===t?"":t,r=n.type,a=void 0===r?"live":r,i=n.onComplete,c=n.onError,u=Object(f.useState)(),s=Object(h.a)(u,2),l=s[0],d=s[1],p="live"===a?"getLive":"getForecast";return Object(f.useEffect)((function(){var e;if(AMap&&!l)return AMap.plugin(["AMap.Weather"],(function(){e=new AMap.Weather,d(e)})),function(){e&&d(void 0)}}),[]),Object(f.useMemo)((function(){var e;l&&o&&a&&(e=l,a&&o&&/^(live|forecast)$/.test(a)&&e[p](o,(function(e,n){e&&c?c(e):n&&i&&i(n)})))}),[l,o,a]),{weather:l,setWeather:d}},Ie=d.a.forwardRef((function(e,n){var t=Re(e).weather;return Object(f.useImperativeHandle)(n,(function(){return j()({},e,{weather:t})})),null}))}}]);
//# sourceMappingURL=13.7f229505.chunk.js.map